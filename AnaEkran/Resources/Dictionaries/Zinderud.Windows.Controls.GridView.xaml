<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:zinderud="http://schemas.zinderud.com/2008/xaml/presentation" 
  xmlns:grid="clr-namespace:Zinderud.Windows.Controls.GridView;assembly=Zinderud.Windows.Controls.GridView"
   xmlns:input="clr-namespace:Zinderud.Windows.Controls;assembly=Zinderud.Windows.Controls.Input" 
   xmlns:treelist="clr-namespace:Zinderud.Windows.Controls.TreeListView;assembly=Zinderud.Windows.Controls.GridView" 
   xmlns:controls="clr-namespace:Zinderud.Windows.Controls;assembly=Zinderud.Windows.Controls.GridView">
  <ResourceDictionary.MergedDictionaries>
    <zinderud:Windows8TouchResourceDictionary />
  </ResourceDictionary.MergedDictionaries>
  <zinderud:Windows8TouchColors x:Key="Windows8TouchColors" />
  <grid:FilterOperatorConverter x:Key="FilterOperatorConverter" />
  <grid:FilterCompositionLogicalOperatorConverter x:Key="FilterCompositionLogicalOperatorConverter" />
  <grid:DistinctValueConverter x:Key="DistinctValueConverter" />
  <grid:FilterOperatorToFilterEditorIsEnabledConverter x:Key="FilterOperatorToFilterEditorIsEnabledConverter" />
  <grid:GridLineWidthToThicknessConverter x:Key="GridLineWidthToThicknessConverter" />
  <SolidColorBrush x:Key="MainForegroundBrush" Color="{Binding Path=Palette.MainForegroundColor, Source={StaticResource Windows8TouchColors}}" zinderud:Windows8TouchPalette.IsFreezable="True" />
  <zinderud:BooleanToOpacityConverter x:Key="BooleanToOpacityConverter" />
  <zinderud:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
  <SolidColorBrush x:Key="InvertedBrush" Color="{Binding Path=Palette.InvertedColor, Source={StaticResource Windows8TouchColors}}" zinderud:Windows8TouchPalette.IsFreezable="True" />
  <SolidColorBrush x:Key="AccentBrush" Color="{Binding Path=Palette.AccentColor, Source={StaticResource Windows8TouchColors}}" zinderud:Windows8TouchPalette.IsFreezable="True" />
  <SolidColorBrush x:Key="HighBrush" Color="{Binding Path=Palette.HighColor, Source={StaticResource Windows8TouchColors}}" zinderud:Windows8TouchPalette.IsFreezable="True" />
  <SolidColorBrush x:Key="MediumBrush" Color="{Binding Path=Palette.MediumColor, Source={StaticResource Windows8TouchColors}}" zinderud:Windows8TouchPalette.IsFreezable="True" />
  <!--AggregateResultsList-->
  <Style x:Key="AggregateResultsListStyle" TargetType="grid:AggregateResultsList">
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate>
          <ItemsPresenter />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemTemplate">
      <Setter.Value>
        <DataTemplate>
          <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Caption}" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" />
            <TextBlock VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding FormattedValue}" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" />
          </StackPanel>
        </DataTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="ItemsPanel">
      <Setter.Value>
        <ItemsPanelTemplate>
          <StackPanel Orientation="Vertical" />
        </ItemsPanelTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:AggregateResultsList" BasedOn="{StaticResource AggregateResultsListStyle}" />
  <!--ChildDataControlsPresenter-->
  <ControlTemplate x:Key="ChildDataControlsPresenterTemplate" TargetType="grid:ChildDataControlsPresenter">
    <Grid Background="Transparent" Margin="10" SnapsToDevicePixels="True">
      <Border Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}">
        <Border.Effect>
          <DropShadowEffect Opacity="0.3" BlurRadius="10" Direction="270" ShadowDepth="3" />
        </Border.Effect>
        <ItemsControl x:Name="PART_ChildDataItemsControl" ItemsSource="{Binding}" IsTabStop="{TemplateBinding IsTabStop}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <controls:SioGridView MaxHeight="300" IsTabStop="{Binding IsTabStop, ElementName=PART_ChildDataItemsControl}" />
            </DataTemplate>
          </ItemsControl.ItemTemplate>
        </ItemsControl>
      </Border>
    </Grid>
  </ControlTemplate>
  <Style x:Key="ChildDataControlsPresenterStyle" TargetType="grid:ChildDataControlsPresenter">
    <Setter Property="Template" Value="{StaticResource ChildDataControlsPresenterTemplate}" />
  </Style>
  <Style TargetType="grid:ChildDataControlsPresenter" BasedOn="{StaticResource ChildDataControlsPresenterStyle}" />
  <!--CommonColumnHeader-->
  <ControlTemplate x:Key="CommonColumnHeaderTemplate" TargetType="grid:CommonColumnHeader">
    <Grid x:Name="PART_HeaderCellGrid">
      <Border x:Name="GridViewHeaderCell" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" />
      <ContentPresenter x:Name="ContentPresenter" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Margin="{TemplateBinding Padding}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="CommonColumnHeaderStyle" TargetType="grid:CommonColumnHeader">
    <Setter Property="Template" Value="{StaticResource CommonColumnHeaderTemplate}" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,1,1" />
    <Setter Property="Padding" Value="5,16,3,16" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="{zinderud:Windows8TouchResource ResourceKey=FontSize}" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:CommonColumnHeader" BasedOn="{StaticResource CommonColumnHeaderStyle}" />
  <!--CommonHeaderPresenter-->
  <ControlTemplate x:Key="CommonHeaderPresenterTemplate" TargetType="grid:CommonHeaderPresenter">
    <Border Visibility="{TemplateBinding Visibility}" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" HorizontalAlignment="Stretch">
      <Grid x:Name="PART_CommonHeadersContainer" HorizontalAlignment="Left" Margin="0,0,0,-1" />
    </Border>
  </ControlTemplate>
  <Style x:Key="CommonHeaderPresenterStyle" TargetType="grid:CommonHeaderPresenter">
    <Setter Property="Template" Value="{StaticResource CommonHeaderPresenterTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,1" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:CommonHeaderPresenter" BasedOn="{StaticResource CommonHeaderPresenterStyle}" />
  <!--DataCellsPresenter-->
  <ControlTemplate x:Key="DataCellsPresenterTemplate" TargetType="grid:DataCellsPresenter">
    <Grid>
      <ItemsPresenter />
      <grid:FrozenColumnsSplitter HorizontalAlignment="Left" x:Name="PART_FrozenColumnsSplitter" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="DataCellsPresenterStyle" TargetType="grid:DataCellsPresenter">
    <Setter Property="Template" Value="{StaticResource DataCellsPresenterTemplate}" />
    <Setter Property="IsTabStop" Value="False" />
    <Setter Property="ItemsPanel">
      <Setter.Value>
        <ItemsPanelTemplate>
          <grid:GridViewCellsPanel />
        </ItemsPanelTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:DataCellsPresenter" BasedOn="{StaticResource DataCellsPresenterStyle}" />
  <!--DetailsPresenter-->
  <ControlTemplate x:Key="DetailsPresenterTemplate" TargetType="grid:DetailsPresenter">
    <Border x:Name="DetailsBorder" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="DetailsStates">
          <VisualState x:Name="DetailsVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames BeginTime="00:00:00" Storyboard.TargetName="DetailsBorder" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="DetailsCollapsed" />
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <ContentPresenter x:Name="PART_ContentPresenter" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
    </Border>
  </ControlTemplate>
  <Style x:Key="DetailsPresenterStyle" TargetType="grid:DetailsPresenter">
    <Setter Property="Template" Value="{StaticResource DetailsPresenterTemplate}" />
    <Setter Property="Visibility" Value="Collapsed" />
    <Setter Property="IsTabStop" Value="False" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:DetailsPresenter" BasedOn="{StaticResource DetailsPresenterStyle}" />
  <!--DistinctFilterControl-->
  <ControlTemplate TargetType="grid:FilteringDropDown" x:Key="DistinctFilterControlTemplate">
    <Grid>
      <Button x:Name="PART_DropDownButton">
        <Button.Template>
          <ControlTemplate TargetType="Button">
            <ContentPresenter />
          </ControlTemplate>
        </Button.Template>
        <Border Cursor="Hand" Background="Transparent" Padding="3,0,0,0">
          <Grid Width="30" Height="30" Cursor="Hand">
            <Border BorderThickness="2" CornerRadius="20" BorderBrush="{TemplateBinding BorderBrush}" />
            <Path Fill="{TemplateBinding BorderBrush}" Stretch="Fill" Margin="9,10,9,9" Data="M0,0 L8,0 L8,1 L5.0225697,4.806818 L5,9 L3,9 L3.0225694,4.806818 L0,1 z" />
            <Border Visibility="{TemplateBinding FunnelFillVisibility}" BorderThickness="2" CornerRadius="20" Background="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" />
            <Path Visibility="{TemplateBinding FunnelFillVisibility}" Fill="{zinderud:Windows8TouchResource ResourceKey=InvertedForegroundBrush}" Stretch="Fill" Margin="9,10,9,9" Data="M0,0 L8,0 L8,1 L5.0225697,4.806818 L5,9 L3,9 L3.0225694,4.806818 L0,1 z" />
          </Grid>
        </Border>
      </Button>
      <Popup x:Name="PART_DropDownPopup">
        <Popup.StaysOpen>True</Popup.StaysOpen>
        <Popup.AllowsTransparency>True</Popup.AllowsTransparency>
        <Popup.PopupAnimation>Slide</Popup.PopupAnimation>
      </Popup>
    </Grid>
  </ControlTemplate>
  <Style x:Key="FilteringDropDownStyle" TargetType="grid:FilteringDropDown">
    <Setter Property="Template" Value="{StaticResource DistinctFilterControlTemplate}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
  </Style>
  <Style TargetType="grid:FilteringDropDown" BasedOn="{StaticResource FilteringDropDownStyle}" />
  <!--FilterControl-->
  <Style x:Key="DistinctValueListBoxItemStyle" TargetType="ListBoxItem">
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="VerticalContentAlignment" Value="Top" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="ListBoxItem">
          <ContentPresenter x:Name="contentPresenter" Margin="{TemplateBinding Padding}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <DataTemplate x:Key="ActionTemplate">
    <TextBlock Text="{Binding Converter={StaticResource FilterOperatorConverter}}" />
  </DataTemplate>
  <DataTemplate x:Key="LogicalOperatorTemplate">
    <TextBlock Text="{Binding Converter={StaticResource FilterCompositionLogicalOperatorConverter}}" />
  </DataTemplate>
  <ControlTemplate x:Key="FilteringControlTemplate" TargetType="grid:FilteringControl">
    <Grid Background="Transparent" Margin="10" SnapsToDevicePixels="True">
      <Border BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Margin="{TemplateBinding Margin}" BorderBrush="{TemplateBinding BorderBrush}">
        <Border.Effect>
          <DropShadowEffect Opacity="0.3" BlurRadius="10" ShadowDepth="3" Direction="270" />
        </Border.Effect>
        <StackPanel MinWidth="254" MaxHeight="584" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}">
          <StackPanel x:Name="PART_DistinctFilter" Visibility="{TemplateBinding DistinctFiltersVisibility}">
            <CheckBox x:Name="PART_SelectAllCheckBox" Margin="4,4,0,0" IsChecked="{Binding SelectAll, Mode=TwoWay}" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeXL}" Content="Hepsini Sec"  />
            <ListBox x:Name="PART_DistinctValuesList" MaxWidth="797" ItemsSource="{Binding DistinctValues}" ScrollViewer.HorizontalScrollBarVisibility="Auto" BorderThickness="0" ItemContainerStyle="{StaticResource DistinctValueListBoxItemStyle}" SelectionMode="Multiple">
              <ListBox.ItemsPanel>
                <ItemsPanelTemplate>
                  <VirtualizingStackPanel MaxHeight="246" />
                </ItemsPanelTemplate>
              </ListBox.ItemsPanel>
              <ListBox.ItemTemplate>
                <DataTemplate>
                  <CheckBox IsChecked="{Binding IsActive, Mode=TwoWay}" Content="{Binding ConvertedValue, Converter={StaticResource DistinctValueConverter}}" VerticalContentAlignment="Center" Margin="-1,0,0,0" />
                </DataTemplate>
              </ListBox.ItemTemplate>
            </ListBox>
          </StackPanel>
          <StackPanel Visibility="{TemplateBinding FieldFiltersVisibility}">
            <TextBlock FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamilyLight}" Foreground="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" Margin="0,6,65,6"  Text="Aşağıdaki eşitliğe göre" />
            <input:SioComboBox x:Name="PART_Filter1ComboBox" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Margin="0,4,0,0" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" MinHeight="0" Padding="5,8" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" ItemTemplate="{StaticResource ActionTemplate}" ItemsSource="{Binding AvailableActions}" SelectedItem="{Binding Filter1.Operator, Mode=TwoWay}" />
            <ContentControl x:Name="PART_Filter1ContentControl" DataContext="{Binding Filter1}" Margin="0,4,0,0" IsEnabled="{Binding Operator, Converter={StaticResource FilterOperatorToFilterEditorIsEnabledConverter}}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" />
            <input:SioComboBox x:Name="PART_LogicalOperatorsComboBox" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" ItemTemplate="{StaticResource LogicalOperatorTemplate}" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" MinHeight="0" Padding="5,8" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" ItemsSource="{Binding LogicalOperators}" Margin="0,4,0,0" SelectedItem="{Binding FieldFilterLogicalOperator, Mode=TwoWay}" />
            <input:SioComboBox x:Name="PART_Filter2ComboBox" Margin="0,4,0,0" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" MinHeight="0" Padding="5,8" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" ItemTemplate="{StaticResource ActionTemplate}" ItemsSource="{Binding AvailableActions}" SelectedItem="{Binding Filter2.Operator, Mode=TwoWay}" />
            <ContentControl x:Name="PART_Filter2ContentControl" Margin="0,4,0,0" DataContext="{Binding Filter2}" IsEnabled="{Binding Operator, Converter={StaticResource FilterOperatorToFilterEditorIsEnabledConverter}}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" />
          </StackPanel>
          <Grid>
            <Grid.ColumnDefinitions>
              <ColumnDefinition />
              <ColumnDefinition />
            </Grid.ColumnDefinitions>
            <Button x:Name="PART_ApplyFilterButton" Width="120" Visibility="{TemplateBinding FilterButtonVisibility}" Margin="-7,12,0,0"   Content="Uygula" />
            <Button x:Name="PART_ClearFilterButton" Grid.Column="1" Width="120" Margin="0,12,-7,0"   Content="Temizle"/>
          </Grid>
        </StackPanel>
      </Border>
    </Grid>
  </ControlTemplate>
  <Style x:Key="FilteringControlStyle" TargetType="grid:FilteringControl">
    <Setter Property="Template" Value="{StaticResource FilteringControlTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="Padding" Value="12,0,12,12" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" />
    <Setter Property="FontWeight" Value="Normal" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:FilteringControl" BasedOn="{StaticResource FilteringControlStyle}" />
  <!--FieldFilterControl-->
  <DataTemplate x:Key="FilterOperatorItemTemplate">
    <TextBlock Text="{Binding Converter={StaticResource FilterOperatorConverter}}" />
  </DataTemplate>
  <Style x:Key="FieldFilterDropDownButtonStyle" TargetType="zinderud:SioDropDownButton">
    <Setter Property="IsOpen" Value="false" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="HorizontalContentAlignment" Value="Center" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="Padding" Value="-2" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="zinderud:SioDropDownButton">
          <Grid>
            <ContentPresenter x:Name="Content" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
            <Popup x:Name="DropDownPopup">
              <ContentPresenter x:Name="DropDownPopupContent" ContentTemplate="{TemplateBinding DropDownContentTemplate}" Content="{TemplateBinding DropDownContent}" DataContext="{Binding DataContext, RelativeSource={RelativeSource TemplatedParent}}" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" />
            </Popup>
          </Grid>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <ControlTemplate x:Key="FieldFilterControlTemplate" TargetType="grid:FieldFilterControl">
    <Border BorderBrush="{TemplateBinding BorderBrush}" Padding="0,2" BorderThickness="{TemplateBinding BorderThickness}">
      <Grid x:Name="PART_MainGrid">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <ContentControl x:Name="PART_FilterEditorContentControl" IsEnabled="{Binding EditorIsEnabled}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Margin="3" />
        <zinderud:SioDropDownButton x:Name="PART_DropDownButton" Grid.Column="1" FontWeight="Normal" KeepOpen="False" Style="{StaticResource FieldFilterDropDownButtonStyle}" DropDownIndicatorVisibility="Collapsed">
          <Border Cursor="Hand" Background="Transparent" Padding="6,9,9,9">
            <Grid Width="30" Cursor="Hand">
              <Border BorderThickness="2" CornerRadius="20" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
              <Path Fill="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" Stretch="Fill" Margin="9,11,9,10" Data="M0,0 L8,0 L8,1 L5.0225697,4.806818 L5,9 L3,9 L3.0225694,4.806818 L0,1 z" />
              <Border Visibility="{Binding FunnelFillVisibility}" BorderThickness="2" CornerRadius="20" Background="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" />
              <Path Visibility="{Binding FunnelFillVisibility}" Fill="{zinderud:Windows8TouchResource ResourceKey=InvertedForegroundBrush}" Stretch="Fill" Margin="9,10,9,9" Data="M0,0 L8,0 L8,1 L5.0225697,4.806818 L5,9 L3,9 L3.0225694,4.806818 L0,1 z" />
            </Grid>
          </Border>
          <zinderud:SioDropDownButton.DropDownContent>
            <ListBox x:Name="PART_FilterOperatorsListBox" ItemsSource="{Binding AvailableOperatorViewModels}" SelectedItem="{Binding SelectedOperatorViewModel, Mode=TwoWay}" />
          </zinderud:SioDropDownButton.DropDownContent>
        </zinderud:SioDropDownButton>
      </Grid>
    </Border>
  </ControlTemplate>
  <Style x:Key="FieldFilterControlStyle" TargetType="grid:FieldFilterControl">
    <Setter Property="Template" Value="{StaticResource FieldFilterControlTemplate}" />
    <Setter Property="BorderThickness" Value="0,0,1,0" />
    <Setter Property="MinHeight" Value="48" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:FieldFilterControl" BasedOn="{StaticResource FieldFilterControlStyle}" />
  <!--DraggedElement-->
  <!--FrozenColumnsSplitter-->
  <ControlTemplate x:Key="FrozenColumnsSplitterTemplate" TargetType="grid:FrozenColumnsSplitter">
    <Grid Width="20" Background="Transparent">
      <Border Background="{TemplateBinding Background}" Width="5" Opacity="0.15" HorizontalAlignment="Left" />
      <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Margin="-1,0,0,0" HorizontalAlignment="Left" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="FrozenColumnsSplitterStyle" TargetType="grid:FrozenColumnsSplitter">
    <Setter Property="Template" Value="{StaticResource FrozenColumnsSplitterTemplate}" />
    <Setter Property="IsTabStop" Value="False" />
    <Setter Property="BorderThickness" Value="1,0,0,0" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:FrozenColumnsSplitter" BasedOn="{StaticResource FrozenColumnsSplitterStyle}" />
  <!--GridViewAggregateResultCell-->
  <ControlTemplate x:Key="GridViewAggregateResultCellTemplate" TargetType="grid:GridViewAggregateResultCell">
    <StackPanel Orientation="Horizontal" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Margin="{TemplateBinding Padding}" Background="{TemplateBinding Background}">
      <TextBlock Margin="10,0,0,0" TextAlignment="Right" VerticalAlignment="Center" Text="{Binding Caption}" />
      <TextBlock Margin="3,0" TextAlignment="Right" VerticalAlignment="Center" Text="{Binding FormattedValue}" />
    </StackPanel>
  </ControlTemplate>
  <Style x:Key="GridViewAggregateResultCellStyle" TargetType="grid:GridViewAggregateResultCell">
    <Setter Property="Template" Value="{StaticResource GridViewAggregateResultCellTemplate}" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="BorderBrush" Value="Transparent" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewAggregateResultCell" BasedOn="{StaticResource GridViewAggregateResultCellStyle}" />
  <!--GridViewCell-->
  <Style x:Key="FocusVisualStyle">
    <Setter Property="Control.Template">
      <Setter.Value>
        <ControlTemplate>
          <Rectangle StrokeThickness="1" Stroke="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" Margin="1,0,0,0" Opacity="0.5" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <ControlTemplate x:Key="GridViewCell_ValidationToolTipTemplate" TargetType="ToolTip">
    <Grid x:Name="Root" Opacity="0" Background="Transparent" RenderTransformOrigin="0,0">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="OpenStates">
          <VisualStateGroup.Transitions>
            <VisualTransition GeneratedDuration="0" />
            <VisualTransition GeneratedDuration="0:0:0.2" To="Open">
              <Storyboard>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="0" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="1" />
                </DoubleAnimationUsingKeyFrames>
              </Storyboard>
            </VisualTransition>
          </VisualStateGroup.Transitions>
          <VisualState x:Name="Closed">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Open">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="1" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid.RenderTransform>
        <TranslateTransform x:Name="xform" X="-25" />
      </Grid.RenderTransform>
      <Border Padding="5 7 4 7" Background="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}">
        <ItemsControl ItemsSource="{TemplateBinding Content}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <TextBlock MaxWidth="250" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" Foreground="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Text="{Binding}" TextWrapping="Wrap" />
            </DataTemplate>
          </ItemsControl.ItemTemplate>
          <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
              <StackPanel />
            </ItemsPanelTemplate>
          </ItemsControl.ItemsPanel>
        </ItemsControl>
      </Border>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="GridViewCellTemplate" TargetType="grid:GridViewCell">
    <Grid>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="SelectionStates">
          <VisualState x:Name="Unselected" />
          <VisualState x:Name="Selected">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Selected" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="Current">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Current" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="MouseOver">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Over" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="EditingStates">
          <VisualState x:Name="Edited">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ContentPresenter" Storyboard.TargetProperty="Margin">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Thickness>0</Thickness>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_ContentPresenter" Storyboard.TargetProperty="VerticalAlignment">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <VerticalAlignment>Stretch</VerticalAlignment>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_CellBorder" Storyboard.TargetProperty="Background">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Display" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="DisabledStates">
          <VisualState x:Name="Enabled" />
          <VisualState x:Name="Disabled">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="PART_ContentPresenter" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0.3" />
              </DoubleAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Disabled" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ValueStates">
          <VisualState x:Name="CellValid" />
          <VisualState x:Name="CellInvalid">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Invalid" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="InvalidUnfocused">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Invalid_Unfocused" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Border x:Name="PART_CellBorder" CornerRadius="0" Margin="1 0 0 0" Background="{Binding Background, RelativeSource={RelativeSource TemplatedParent}}" BorderBrush="{TemplateBinding VerticalGridLinesBrush}" BorderThickness="{Binding VerticalGridLinesWidth, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource GridLineWidthToThicknessConverter}, ConverterParameter=Right}" />
      <Border x:Name="Background_Over" Background="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" Opacity="0.05" Margin="-1,0,0,0" CornerRadius="0" BorderBrush="{TemplateBinding VerticalGridLinesBrush}" BorderThickness="{Binding VerticalGridLinesWidth, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource GridLineWidthToThicknessConverter}, ConverterParameter=Right}" Grid.Column="2" Grid.ColumnSpan="2" Visibility="Collapsed" />
      <Border x:Name="Background_Selected" Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" BorderBrush="{TemplateBinding VerticalGridLinesBrush}" Margin="-1,0,0,0" CornerRadius="0" BorderThickness="{Binding VerticalGridLinesWidth, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource GridLineWidthToThicknessConverter}, ConverterParameter=Right}" Grid.Column="2" Grid.ColumnSpan="2" Visibility="Collapsed" />
      <Border x:Name="Background_Current" BorderThickness="1" Margin="1,0,0,0" CornerRadius="0" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" Opacity="0.5" Grid.Column="2" Grid.ColumnSpan="2" Visibility="Collapsed" />
      <Border x:Name="Background_Invalid_Unfocused" Visibility="Collapsed" BorderThickness="1" Margin="-1,0,0,0" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Grid.Column="2" Grid.ColumnSpan="2" Opacity="1" />
      <Border x:Name="Background_Invalid" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" BorderThickness="1" Margin="-1,0,0,0" Grid.Column="2" Grid.ColumnSpan="2" Visibility="Collapsed">
        <ToolTipService.ToolTip>
          <ToolTip x:Name="validationTooltip" Placement="Right" Content="{TemplateBinding Errors}" FontFamily="Segoe UI" FontSize="15" VerticalContentAlignment="Center" Template="{StaticResource GridViewCell_ValidationToolTipTemplate}"></ToolTip>
        </ToolTipService.ToolTip>
        <Grid Background="Transparent" HorizontalAlignment="Right" Height="30" VerticalAlignment="Top" Width="30">
          <Path Fill="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Width="4" Height="4" Margin="1" HorizontalAlignment="Right" VerticalAlignment="Top" Data="M0,0 L4,0 L4,4 z" />
        </Grid>
      </Border>
      <Border x:Name="Background_Disabled" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Opacity="0.5" Grid.Column="2" Grid.ColumnSpan="2" Visibility="Collapsed" />
      <ContentPresenter x:Name="PART_ContentPresenter" Margin="{TemplateBinding Padding}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="GridViewCellStyle" TargetType="grid:GridViewCell">
    <Setter Property="Template" Value="{StaticResource GridViewCellTemplate}" />
    <Setter Property="Padding" Value="5,0,3,0" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,1,0" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
    <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisualStyle}" />
  </Style>
  <Style TargetType="grid:GridViewCell" BasedOn="{StaticResource GridViewCellStyle}" />
  <!--GridViewHeaderCell-->
  <Style x:Key="ColumnHeaderGripperStyle" TargetType="Thumb">
    <Setter Property="Width" Value="12" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="BorderBrush" Value="Transparent" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="Cursor" Value="SizeWE" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="Thumb">
          <Border Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="ContentControl" x:Key="StretchedContentControl">
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
  </Style>
  <ControlTemplate x:Key="GridViewHeaderCellTemplate" TargetType="grid:GridViewHeaderCell">
    <Grid x:Name="PART_OuterGrid">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="MouseOver">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="GridViewHeaderCell_Over" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="ContentPresenter">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" />
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_DistinctFilterControl" Storyboard.TargetProperty="BorderBrush">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource   MainForegroundBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Ascending">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_SortIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="GridViewHeaderCell_Selected" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Descending">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_SortIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[2].(RotateTransform.Angle)" Storyboard.TargetName="PART_SortIndicator">
                <EasingDoubleKeyFrame KeyTime="0:0:0" Value="180" />
              </DoubleAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="GridViewHeaderCell_Selected" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid.RowDefinitions>
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <Grid x:Name="PART_HeaderCellGrid">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="*" />
          <ColumnDefinition Width="Auto" />
        </Grid.ColumnDefinitions>
        <Border x:Name="GridViewHeaderCell" Grid.ColumnSpan="3" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" />
        <Border x:Name="GridViewHeaderCell_Over" Grid.ColumnSpan="3" Background="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" Visibility="Collapsed" />
        <Border x:Name="GridViewHeaderCell_Selected" Grid.ColumnSpan="3" Background="Transparent" Visibility="Collapsed" />
        <ContentControl x:Name="ContentPresenter" Grid.Column="1" Foreground="{TemplateBinding Foreground}" Style="{StaticResource StretchedContentControl}" Margin="{TemplateBinding Padding}" IsTabStop="{TemplateBinding IsTabStop}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
        <Path x:Name="PART_SortIndicator" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="{StaticResource  MainForegroundBrush}" RenderTransformOrigin="0.5,0.5" Visibility="Collapsed" Margin="7,2,0,0" VerticalAlignment="Center" HorizontalAlignment="Left" Stretch="Fill" Width="10" Height="8">
          <Path.RenderTransform>
            <TransformGroup>
              <ScaleTransform />
              <SkewTransform />
              <RotateTransform />
              <TranslateTransform />
            </TransformGroup>
          </Path.RenderTransform>
        </Path>
        <grid:FilteringDropDown Name="PART_DistinctFilterControl" Grid.Column="2" Visibility="{TemplateBinding FilteringUIVisibility}" Margin="0,0,9,0" />
        <Thumb x:Name="PART_LeftHeaderGripper" HorizontalAlignment="Left" IsTabStop="{TemplateBinding IsTabStop}" Style="{StaticResource ColumnHeaderGripperStyle}" Grid.ColumnSpan="3" />
        <Thumb x:Name="PART_RightHeaderGripper" HorizontalAlignment="Right" IsTabStop="{TemplateBinding IsTabStop}" Style="{StaticResource ColumnHeaderGripperStyle}" Grid.ColumnSpan="3" />
      </Grid>
      <grid:FieldFilterControl x:Name="PART_FieldFilterControl" Visibility="{TemplateBinding FieldFilterControlVisibility}" Grid.Row="1" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="GridViewHeaderCellStyle" TargetType="grid:GridViewHeaderCell">
    <Setter Property="Template" Value="{StaticResource GridViewHeaderCellTemplate}" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,1,1" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="9,14,6,14" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="{zinderud:Windows8TouchResource ResourceKey=FontSize}" />
    <Setter Property="DropIndicatorBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="DropIndicatorThickness" Value="4" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewHeaderCell" BasedOn="{StaticResource GridViewHeaderCellStyle}" />
  <!--GridViewFooterCell-->
  <ControlTemplate x:Key="GridViewFooterCellTemplate" TargetType="grid:GridViewFooterCell">
    <Border x:Name="PART_FooterCellBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
      <ContentPresenter Margin="{TemplateBinding Padding}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
    </Border>
  </ControlTemplate>
  <Style x:Key="GridViewFooterCellStyle" TargetType="grid:GridViewFooterCell">
    <Setter Property="Template" Value="{StaticResource GridViewFooterCellTemplate}" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="Padding" Value="5,14,2,14" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="FontFamily" Value="{zinderud:Windows8TouchResource ResourceKey=FontFamilyStrong}" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewFooterCell" BasedOn="{StaticResource GridViewFooterCellStyle}" />
  <!--GridViewGroupFooterCell-->
  <ControlTemplate x:Key="GridViewGroupFooterCellTemplate" TargetType="grid:GridViewGroupFooterCell">
    <Border x:Name="PART_FooterCellBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
      <ContentPresenter Margin="{TemplateBinding Padding}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
    </Border>
  </ControlTemplate>
  <Style x:Key="GridViewGroupFooterCellStyle" TargetType="grid:GridViewGroupFooterCell">
    <Setter Property="Template" Value="{StaticResource GridViewGroupFooterCellTemplate}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="Padding" Value="5,0,3,0" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="FontSize" Value="15" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewGroupFooterCell" BasedOn="{StaticResource GridViewGroupFooterCellStyle}" />
  <!--GridViewIndentCell-->
  <Style x:Key="GridViewIndentCellStyle" TargetType="grid:GridViewIndentCell">
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="grid:GridViewIndentCell">
          <Border BorderBrush="{TemplateBinding BorderBrush}" Background="{TemplateBinding Background}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Padding="{TemplateBinding Padding}" BorderThickness="{TemplateBinding BorderThickness}" Width="40" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
  </Style>
  <Style TargetType="grid:GridViewIndentCell" BasedOn="{StaticResource GridViewIndentCellStyle}" />
  <!--GridViewFooterIndentCell-->
  <Style x:Key="GridViewFooterIndentCellStyle" TargetType="grid:GridViewFooterIndentCell">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="grid:GridViewFooterIndentCell">
          <Border BorderBrush="{TemplateBinding BorderBrush}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" BorderThickness="{TemplateBinding BorderThickness}" Width="40"></Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="BorderBrush" Value="{x:Null}" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
  </Style>
  <Style TargetType="grid:GridViewFooterIndentCell" BasedOn="{StaticResource GridViewFooterIndentCellStyle}" />
  <!--GridViewGroupFooterIndentCell-->
  <Style x:Key="GridViewGroupFooterIndentCellStyle" TargetType="grid:GridViewGroupFooterIndentCell">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="grid:GridViewGroupFooterIndentCell">
          <Border BorderBrush="{TemplateBinding BorderBrush}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" BorderThickness="{TemplateBinding BorderThickness}" Width="40"></Border>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
  </Style>
  <Style TargetType="grid:GridViewGroupFooterIndentCell" BasedOn="{StaticResource GridViewGroupFooterIndentCellStyle}" />
  <!--GridViewHeaderIndentCell-->
  <Style x:Key="GridViewHeaderIndentCellStyle" TargetType="grid:GridViewHeaderIndentCell">
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="grid:GridViewHeaderIndentCell">
          <Border x:Name="OuterBorder" Width="40" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" />
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="BorderThickness" Value="0,0,1,1" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewHeaderIndentCell" BasedOn="{StaticResource GridViewHeaderIndentCellStyle}" />
  <!--GridViewRow-->
  <ControlTemplate x:Key="GridViewRow_ValidationToolTipTemplate" TargetType="ToolTip">
    <Grid x:Name="Root" Margin="5,0" Opacity="0" RenderTransformOrigin="0,0">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="OpenStates">
          <VisualStateGroup.Transitions>
            <VisualTransition GeneratedDuration="0" />
            <VisualTransition GeneratedDuration="0:0:0.2" To="Open">
              <Storyboard>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="0" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="1" />
                </DoubleAnimationUsingKeyFrames>
              </Storyboard>
            </VisualTransition>
          </VisualStateGroup.Transitions>
          <VisualState x:Name="Closed">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Open">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="1" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid.RenderTransform>
        <TranslateTransform x:Name="xform" X="-25" />
      </Grid.RenderTransform>
      <Border Margin="4,4,-4,-4" Background="#052A2E31" CornerRadius="5" />
      <Border Margin="3,3,-3,-3" Background="#152A2E31" CornerRadius="4" />
      <Border Margin="2,2,-2,-2" Background="#252A2E31" CornerRadius="3" />
      <Border Margin="1,1,-1,-1" Background="#352A2E31" CornerRadius="2" />
      <Border Background="#FFDC000C" CornerRadius="2" />
      <Border CornerRadius="2">
        <ItemsControl ItemsSource="{TemplateBinding Content}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <TextBlock Margin="8,4,8,4" MaxWidth="250" Foreground="White" Text="{Binding}" TextWrapping="Wrap" />
            </DataTemplate>
          </ItemsControl.ItemTemplate>
          <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
              <StackPanel />
            </ItemsPanelTemplate>
          </ItemsControl.ItemsPanel>
        </ItemsControl>
      </Border>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="GridViewRowTemplate" TargetType="grid:GridViewRow">
    <Border BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="FocusStates">
          <VisualState x:Name="Unfocused" />
          <VisualState x:Name="Focused">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NavigatorIndicator" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="SelectionStates">
          <VisualState x:Name="Unselected" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="MouseOver">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Background_Over" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Selected">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Background_Selected" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ValueStates">
          <VisualState x:Name="RowValid" />
          <VisualState x:Name="RowInvalid">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Invalid" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ErrorIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NavigatorIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="PART_DataCellsPresenter">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{zinderud:Windows8TouchResource ResourceKey=InvertedForegroundBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="EditStates">
          <VisualState x:Name="ReadOnlyMode" />
          <VisualState x:Name="EditMode">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NavigatorIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <grid:SelectiveScrollingGrid x:Name="grid">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
          <RowDefinition Height="Auto" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Border x:Name="SelectionBackground" Grid.Column="2" Grid.ColumnSpan="2" Background="{TemplateBinding Background}" Margin="{TemplateBinding Margin}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Padding="{TemplateBinding Padding}" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" />
        <Rectangle x:Name="Background_Over" Fill="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" Opacity="0.05" Grid.ColumnSpan="4" Visibility="Collapsed" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" />
        <Rectangle x:Name="Background_Selected" Fill="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" Grid.ColumnSpan="4" Visibility="Collapsed" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" />
        <Rectangle x:Name="Background_Invalid" Fill="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Grid.ColumnSpan="4" Visibility="Collapsed" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" />
        <controls:GridViewToggleButton Grid.Column="2" x:Name="PART_HierarchyExpandButton" Width="25" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Opacity="{Binding IsExpandable, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToOpacityConverter}}" IsHitTestVisible="{Binding IsExpandable, RelativeSource={RelativeSource TemplatedParent}}" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" IsChecked="{Binding IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" IsTabStop="{TemplateBinding IsTabStop}" />
        <Border Grid.Column="2" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" />
        <grid:IndentPresenter x:Name="PART_IndentPresenter" IndentLevel="{TemplateBinding IndentLevel}" Grid.Column="1" Grid.RowSpan="4" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
        <grid:DataCellsPresenter Grid.Column="3" x:Name="PART_DataCellsPresenter" />
        <Border x:Name="PART_RowBorder" BorderBrush="{TemplateBinding HorizontalGridLinesBrush}" BorderThickness="{Binding HorizontalGridLinesWidth, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource GridLineWidthToThicknessConverter}, ConverterParameter=Bottom}" Grid.ColumnSpan="4" Grid.Column="1" Grid.RowSpan="4" VerticalAlignment="Bottom" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" />
        <Border Grid.Column="2" Grid.Row="2" Grid.ColumnSpan="2" Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True">
          <ContentPresenter x:Name="PART_HierarchyChildPresenter" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" Visibility="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" />
        </Border>
        <grid:DetailsPresenter x:Name="PART_DetailsPresenter" Grid.Column="2" Grid.ColumnSpan="2" Grid.Row="1" DetailsProvider="{TemplateBinding DetailsProvider}" />
        <Border x:Name="PART_IndicatorPresenter" Width="40" VerticalAlignment="Stretch" Grid.Column="0" Visibility="{TemplateBinding RowIndicatorVisibility}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="3" BorderThickness="0" Background="Transparent">
          <Grid>
            <Grid x:Name="NavigatorIndicator" Width="14" Height="14" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed">
              <Path Data="M20,12L20,4L27,8z M23,1C19.062,1,16,4.062,16,8C16,11.937,19.062,15,23,15C26.938,15,30,11.937,30,8C30,4.062,26.938,1,23,1" Fill="{StaticResource  InvertedBrush}" Stretch="Fill" SnapsToDevicePixels="True" />
            </Grid>
            <Grid x:Name="EditIndicator" Width="14" Height="14" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed">
              <Path Data="M12,5L12,6L11,6L11,5L9,5L9,11L10,11L10,12L6,12L6,11L7,11L7,5L5,5L5,6L4,6L4,5L4,4L12,4zM8,1C4.062,1 1,4.062 1,8C1,11.938 4.062,15 8,15C11.937,15 15,11.938 15,8C15,4.062 11.937,1 8,1" Fill="{StaticResource  AccentBrush}" Stretch="Fill" SnapsToDevicePixels="True" />
            </Grid>
            <Grid x:Name="ErrorIndicator" HorizontalAlignment="Center" Width="14" Height="14" VerticalAlignment="Center" Visibility="Collapsed">
              <Path Data="M39,9L37,9L37,3L39,3zM39,13L37,13L37,11L39,11zM38,1C34.063,1 31,4.062 31,8C31,11.937 34.063,15 38,15C41.938,15 45,11.937 45,8C45,4.062 41.938,1 38,1" Fill="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Stretch="Fill" SnapsToDevicePixels="True"></Path>
              <ToolTipService.ToolTip>
                <ToolTip x:Name="validationTooltip" Placement="Bottom" Content="{TemplateBinding Errors}" Template="{StaticResource GridViewRow_ValidationToolTipTemplate}"></ToolTip>
              </ToolTipService.ToolTip>
            </Grid>
            <Border x:Name="PART_RowResizer" Background="Transparent" Height="8" VerticalAlignment="Bottom" Cursor="SizeNS" />
          </Grid>
        </Border>
      </grid:SelectiveScrollingGrid>
    </Border>
  </ControlTemplate>
  <Style x:Key="GridViewRowStyle" TargetType="grid:GridViewRow">
    <Setter Property="IsTabStop" Value="False" />
    <Setter Property="Template" Value="{StaticResource GridViewRowTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="FontWeight" Value="Normal" />
    <Setter Property="AllowDrop" Value="True" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewRow" BasedOn="{StaticResource GridViewRowStyle}" />
  <!--GridViewNewRow-->
  <ControlTemplate x:Key="GridViewNewRow_ValidationToolTipTemplate" TargetType="ToolTip">
    <Grid x:Name="Root" Margin="5,0" Opacity="0" RenderTransformOrigin="0,0">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="OpenStates">
          <VisualStateGroup.Transitions>
            <VisualTransition GeneratedDuration="0" />
            <VisualTransition GeneratedDuration="0:0:0.2" To="Open">
              <Storyboard>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="0" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="1" />
                </DoubleAnimationUsingKeyFrames>
              </Storyboard>
            </VisualTransition>
          </VisualStateGroup.Transitions>
          <VisualState x:Name="Closed">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Open">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="1" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid.RenderTransform>
        <TranslateTransform x:Name="xform" X="-25" />
      </Grid.RenderTransform>
      <Border Margin="4,4,-4,-4" Background="#052A2E31" CornerRadius="5" />
      <Border Margin="3,3,-3,-3" Background="#152A2E31" CornerRadius="4" />
      <Border Margin="2,2,-2,-2" Background="#252A2E31" CornerRadius="3" />
      <Border Margin="1,1,-1,-1" Background="#352A2E31" CornerRadius="2" />
      <Border Background="#FFDC000C" CornerRadius="2" />
      <Border CornerRadius="2">
        <ItemsControl ItemsSource="{TemplateBinding Content}">
          <ItemsControl.ItemTemplate>
            <DataTemplate>
              <TextBlock Margin="8,4,8,4" MaxWidth="250" Foreground="White" Text="{Binding}" TextWrapping="Wrap" />
            </DataTemplate>
          </ItemsControl.ItemTemplate>
          <ItemsControl.ItemsPanel>
            <ItemsPanelTemplate>
              <StackPanel />
            </ItemsPanelTemplate>
          </ItemsControl.ItemsPanel>
        </ItemsControl>
      </Border>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="GridViewNewRowTemplate" TargetType="grid:GridViewNewRow">
    <grid:SelectiveScrollingGrid x:Name="grid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="FocusStates">
          <VisualState x:Name="Unfocused" />
          <VisualState x:Name="Focused" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="SelectionStates">
          <VisualState x:Name="Unselected" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="MouseOver" />
          <VisualState x:Name="Selected" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="ValueStates">
          <VisualState x:Name="RowValid" />
          <VisualState x:Name="RowInvalid">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Invalid" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NewRowIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ErrorIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="EditStates">
          <VisualState x:Name="ReadOnlyMode">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_DataCellsPresenter" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_AlwaysVisibleNewRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="EditMode">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_DataCellsPresenter" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_AlwaysVisibleNewRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NewRowIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="EditIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_RowBorder" Storyboard.TargetProperty="BorderBrush">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Border x:Name="SelectionBackground" Grid.Column="2" Grid.ColumnSpan="2" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" Margin="{TemplateBinding Margin}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Padding="{TemplateBinding Padding}" />
      <Rectangle x:Name="Background_Invalid" Margin="0,0,0,1" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" Stroke="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" StrokeThickness="1" Grid.Column="2" Grid.ColumnSpan="2" Visibility="Collapsed" />
      <Border Grid.Column="2" Width="40" BorderBrush="{TemplateBinding VerticalGridLinesBrush}" BorderThickness="{Binding VerticalGridLinesWidth, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource GridLineWidthToThicknessConverter}, ConverterParameter=Right}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" Opacity="{Binding IsExpandable, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToOpacityConverter}}" IsHitTestVisible="{Binding IsExpandable, RelativeSource={RelativeSource TemplatedParent}}" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" />
      <grid:IndentPresenter x:Name="PART_IndentPresenter" BorderThickness="0,0,0,1" IndentLevel="{TemplateBinding IndentLevel}" Grid.Column="1" Grid.RowSpan="4" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <Border x:Name="PART_AlwaysVisibleNewRow" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" Margin="0" Background="{TemplateBinding Background}" Grid.Column="1" Grid.ColumnSpan="3">
        <TextBlock VerticalAlignment="{TemplateBinding VerticalContentAlignment}" FontSize="{TemplateBinding FontSize}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" Foreground="{TemplateBinding Foreground}" zinderud:LocalizationManager.ResourceKey="GridViewAlwaysVisibleNewRow" />
      </Border>
      <grid:DataCellsPresenter Grid.Column="3" Visibility="Collapsed" Margin="1,0,0,1" x:Name="PART_DataCellsPresenter" />
      <Border x:Name="PART_RowBorder" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" BorderThickness="0,0,0,1" Grid.ColumnSpan="4" Grid.Column="1" Grid.RowSpan="4" VerticalAlignment="Bottom" />
      <Border x:Name="PART_IndicatorPresenter" Width="40" VerticalAlignment="Stretch" Grid.Column="0" Margin="0,0,-1,0" Visibility="{TemplateBinding RowIndicatorVisibility}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="3" Background="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}">
        <Grid>
          <Grid x:Name="NewRowIndicator" HorizontalAlignment="Center" VerticalAlignment="Center" Width="16" Height="11">
            <Path Data="M7.1791806,0 L11.037181,0 L11.037181,7.0529909 L17.976999,7.0529909 L17.976999,10.906991 L11.037181,10.906991 L11.037181,17.957001 L7.1791806,17.957001 L7.1791806,10.906991 L0,10.906991 L0,7.0529909 L7.1791806,7.0529909 z" Fill="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" Stretch="Fill" Width="9" Height="9" />
          </Grid>
          <Grid x:Name="EditIndicator" HorizontalAlignment="Center" VerticalAlignment="Center" Width="16" Height="10" Visibility="Collapsed"></Grid>
          <Grid x:Name="ErrorIndicator" HorizontalAlignment="Center" VerticalAlignment="Center" Width="16" Height="16" Visibility="Collapsed">
            <ToolTipService.ToolTip>
              <ToolTip x:Name="validationTooltip" Placement="Bottom" Content="{TemplateBinding Errors}" Template="{StaticResource GridViewNewRow_ValidationToolTipTemplate}"></ToolTip>
            </ToolTipService.ToolTip>
          </Grid>
        </Grid>
      </Border>
    </grid:SelectiveScrollingGrid>
  </ControlTemplate>
  <Style x:Key="GridViewNewRowStyle" TargetType="grid:GridViewNewRow">
    <Setter Property="Template" Value="{StaticResource GridViewNewRowTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="Padding" Value="5,10,3,10" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewNewRow" BasedOn="{StaticResource GridViewNewRowStyle}" />
  <!--GridViewGroupRow-->
  <DataTemplate x:Key="GroupHeaderTemplate">
    <ContentControl Foreground="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeXL}" Padding="0,6,0,7" Content="{Binding Header}" />
  </DataTemplate>
  <ControlTemplate x:Key="GridViewGroupToggleButtonTemplate" TargetType="ToggleButton">
    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
      <ContentPresenter />
    </Border>
  </ControlTemplate>
  <Style x:Key="GridViewGroupToggleButtonStyle" TargetType="ToggleButton">
    <Setter Property="Template" Value="{StaticResource GridViewGroupToggleButtonTemplate}" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="Padding" Value="9,0,0,0" />
  </Style>
  <ControlTemplate x:Key="GridViewGroupRowTemplate" TargetType="grid:GridViewGroupRow">
    <Grid x:Name="PART_GroupExpanderGrid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition x:Name="PART_HeaderRow" MinHeight="{TemplateBinding MinHeight}" />
        <RowDefinition x:Name="ContentRow" Height="Auto" />
      </Grid.RowDefinitions>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="ExpandStateGroup">
          <VisualState x:Name="Expanded">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Content" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="plus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="00:00:00.050" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="minus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="00:00:00.050" Value="1" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Collapsed" />
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Border x:Name="ToggleButtonBorder" Background="{TemplateBinding Background}" Margin="-1,0,0,0" Grid.Column="2" Grid.ColumnSpan="2" MinHeight="{TemplateBinding MinHeight}" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="40" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
          </Grid.ColumnDefinitions>
          <!--Aggregates-->
          <Border grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" Visibility="{Binding ShowHeaderAggregates, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Grid.Column="2">
            <grid:AggregateResultsList ItemsSource="{TemplateBinding AggregateResults}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}">
              <grid:AggregateResultsList.ItemTemplate>
                <DataTemplate>
                  <grid:GridViewAggregateResultCell AggregateResult="{Binding}" />
                </DataTemplate>
              </grid:AggregateResultsList.ItemTemplate>
              <grid:AggregateResultsList.ItemsPanel>
                <ItemsPanelTemplate>
                  <StackPanel Orientation="Horizontal" />
                </ItemsPanelTemplate>
              </grid:AggregateResultsList.ItemsPanel>
            </grid:AggregateResultsList>
          </Border>
          <!--Icon-->
          <Border x:Name="IconOuterBorder" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" BorderThickness="0,0,0,1" Background="Transparent" HorizontalAlignment="Stretch" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical">
            <Grid Background="Transparent">
              <Path x:Name="plus" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" Width="10" Height="8" RenderTransformOrigin="0.5,0.5" Stretch="Fill" SnapsToDevicePixels="True">
                <Path.RenderTransform>
                  <TransformGroup>
                    <ScaleTransform />
                    <SkewTransform />
                    <RotateTransform Angle="90" />
                    <TranslateTransform />
                  </TransformGroup>
                </Path.RenderTransform>
              </Path>
              <Path x:Name="minus" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" Width="10" Height="8" RenderTransformOrigin="0.5,0.5" Opacity="0" Stretch="Fill" SnapsToDevicePixels="True">
                <Path.RenderTransform>
                  <TransformGroup>
                    <ScaleTransform />
                    <SkewTransform />
                    <RotateTransform Angle="180" />
                    <TranslateTransform />
                  </TransformGroup>
                </Path.RenderTransform>
              </Path>
            </Grid>
          </Border>
          <!--ToggleButton-->
          <ToggleButton x:Name="HeaderButton" Grid.Column="0" Grid.ColumnSpan="3" Background="{TemplateBinding Background}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}" Opacity="0" IsTabStop="{TemplateBinding IsTabStop}" />
          <!--GroupHeader-->
          <ToggleButton Grid.Column="1" Padding="0,0,10,0" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Background="Transparent" BorderThickness="0" BorderBrush="{x:Null}" Style="{StaticResource GridViewGroupToggleButtonStyle}" Foreground="{TemplateBinding Foreground}" IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}" IsTabStop="{TemplateBinding IsTabStop}">
            <ContentPresenter Grid.Column="1" Margin="0,0,10,0" Content="{TemplateBinding GroupViewModel}" VerticalAlignment="Center" ContentTemplate="{TemplateBinding GroupHeaderTemplate}" />
          </ToggleButton>
          <Border grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" BorderThickness="0,0,0,1" Grid.Column="1" Grid.ColumnSpan="2" />
        </Grid>
      </Border>
      <!--Indicator-->
      <Border x:Name="PART_IndicatorPresenter" Width="40" VerticalAlignment="Stretch" Grid.Column="0" Visibility="{TemplateBinding RowIndicatorVisibility}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="3" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
      <!--Indent-->
      <grid:IndentPresenter grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" IndentLevel="{TemplateBinding Level}" Background="{TemplateBinding Background}" Grid.Column="1" />
      <!--Content-->
      <Border x:Name="Content" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="5" Visibility="Collapsed">
        <StackPanel>
          <grid:GridViewVirtualizingPanel x:Name="PART_GridViewVirtualizingPanel" />
          <grid:GridViewGroupFooterRow x:Name="Footer" />
        </StackPanel>
      </Border>
    </Grid>
  </ControlTemplate>
  <Style x:Key="GridViewGroupRowStyle" TargetType="grid:GridViewGroupRow">
    <Setter Property="Template" Value="{StaticResource GridViewGroupRowTemplate}" />
    <Setter Property="GroupHeaderTemplate" Value="{StaticResource GroupHeaderTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,2" />
    <Setter Property="AllowDrop" Value="True" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="MinHeight" Value="23" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewGroupRow" BasedOn="{StaticResource GridViewGroupRowStyle}" />
  <!--GroupHeaderRow-->
  <DataTemplate x:Key="GroupHeaderRowHeaderTemplate">
    <ContentControl Foreground="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeXL}" Padding="0,6,0,7" Content="{Binding Header}" />
  </DataTemplate>
  <ControlTemplate x:Key="GroupHeaderRowToggleButtonTemplate" TargetType="ToggleButton">
    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
      <ContentPresenter />
    </Border>
  </ControlTemplate>
  <Style x:Key="GroupHeaderRowToggleButtonStyle" TargetType="ToggleButton">
    <Setter Property="Template" Value="{StaticResource GroupHeaderRowToggleButtonTemplate}" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="Padding" Value="9,0,0,0" />
  </Style>
  <ControlTemplate x:Key="GroupHeaderRowTemplate" TargetType="grid:GroupHeaderRow">
    <Grid x:Name="PART_GroupExpanderGrid">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition x:Name="PART_HeaderRow" MinHeight="{TemplateBinding MinHeight}" />
        <RowDefinition x:Name="PART_HeaderAggregatesRow" />
      </Grid.RowDefinitions>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="ExpandStateGroup">
          <VisualState x:Name="Expanded">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="plus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="minus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="1" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Collapsed" />
          <VisualStateGroup.Transitions>
            <VisualTransition From="Expanded" To="Collapsed">
              <Storyboard>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="plus" Storyboard.TargetProperty="Opacity">
                  <DiscreteDoubleKeyFrame KeyTime="00:00:00.050" Value="1" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="minus" Storyboard.TargetProperty="Opacity">
                  <DiscreteDoubleKeyFrame KeyTime="00:00:00.050" Value="0" />
                </DoubleAnimationUsingKeyFrames>
              </Storyboard>
            </VisualTransition>
            <VisualTransition From="Collapsed" To="Expanded">
              <Storyboard>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="plus" Storyboard.TargetProperty="Opacity">
                  <DiscreteDoubleKeyFrame KeyTime="00:00:00.050" Value="0" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="minus" Storyboard.TargetProperty="Opacity">
                  <DiscreteDoubleKeyFrame KeyTime="00:00:00.050" Value="1" />
                </DoubleAnimationUsingKeyFrames>
              </Storyboard>
            </VisualTransition>
          </VisualStateGroup.Transitions>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Border x:Name="ToggleButtonBorder" Background="{TemplateBinding Background}" Margin="-1,0,0,0" Grid.Column="2" Grid.ColumnSpan="2" MinHeight="{TemplateBinding MinHeight}" grid:SelectiveScrollingGrid.SelectiveScrollingClip="True">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="40" />
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
          </Grid.ColumnDefinitions>
          <!--Aggregates-->
          <Border grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" Visibility="{Binding ShowHeaderAggregates, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Grid.Column="2">
            <grid:AggregateResultsList ItemsSource="{TemplateBinding AggregateResults}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}">
              <grid:AggregateResultsList.ItemTemplate>
                <DataTemplate>
                  <grid:GridViewAggregateResultCell AggregateResult="{Binding}" />
                </DataTemplate>
              </grid:AggregateResultsList.ItemTemplate>
              <grid:AggregateResultsList.ItemsPanel>
                <ItemsPanelTemplate>
                  <StackPanel Orientation="Horizontal" />
                </ItemsPanelTemplate>
              </grid:AggregateResultsList.ItemsPanel>
            </grid:AggregateResultsList>
          </Border>
          <!--Icon-->
          <Border x:Name="IconOuterBorder" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" BorderThickness="0,0,0,1" Background="Transparent" HorizontalAlignment="Stretch" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical">
            <Grid Background="Transparent">
              <Path x:Name="plus" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" Width="10" Height="8" RenderTransformOrigin="0.5,0.5" Stretch="Fill" SnapsToDevicePixels="True">
                <Path.RenderTransform>
                  <TransformGroup>
                    <ScaleTransform />
                    <SkewTransform />
                    <RotateTransform Angle="90" />
                    <TranslateTransform />
                  </TransformGroup>
                </Path.RenderTransform>
              </Path>
              <Path x:Name="minus" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" Width="10" Height="8" RenderTransformOrigin="0.5,0.5" Opacity="0" Stretch="Fill" SnapsToDevicePixels="True">
                <Path.RenderTransform>
                  <TransformGroup>
                    <ScaleTransform />
                    <SkewTransform />
                    <RotateTransform Angle="180" />
                    <TranslateTransform />
                  </TransformGroup>
                </Path.RenderTransform>
              </Path>
            </Grid>
          </Border>
          <!--ToggleButton-->
          <ToggleButton x:Name="HeaderButton" Grid.Column="0" Grid.ColumnSpan="3" Background="{TemplateBinding Background}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}" Opacity="0" IsTabStop="{TemplateBinding IsTabStop}" />
          <!--GroupHeader-->
          <ToggleButton Grid.Column="1" Padding="0,0,10,0" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Background="Transparent" BorderThickness="0" BorderBrush="{x:Null}" Style="{StaticResource GroupHeaderRowToggleButtonStyle}" Foreground="{TemplateBinding Foreground}" IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}" IsTabStop="{TemplateBinding IsTabStop}">
            <ContentPresenter Grid.Column="1" Margin="0,0,10,0" Content="{TemplateBinding GroupViewModel}" VerticalAlignment="Center" ContentTemplate="{TemplateBinding GroupHeaderTemplate}" />
          </ToggleButton>
          <Border grid:SelectiveScrollingGrid.SelectiveScrollingClip="True" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" BorderThickness="0,0,0,1" Grid.Column="1" Grid.ColumnSpan="2" />
        </Grid>
      </Border>
      <!--Indicator-->
      <Border x:Name="PART_IndicatorPresenter" Width="40" VerticalAlignment="Stretch" Grid.Column="0" Visibility="{TemplateBinding RowIndicatorVisibility}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="3" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
      <!--Indent-->
      <grid:IndentPresenter grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" IndentLevel="{TemplateBinding Level}" Background="{TemplateBinding Background}" Grid.Column="1" />
      <!--HeaderColumnAggregates-->
      <grid:GridViewGroupFooterRow x:Name="FooterRowForHeaderAggregates" Visibility="{Binding ShowGroupHeaderColumnAggregates, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="5" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="GroupHeaderRowStyle" TargetType="grid:GroupHeaderRow">
    <Setter Property="Template" Value="{StaticResource GroupHeaderRowTemplate}" />
    <Setter Property="GroupHeaderTemplate" Value="{StaticResource GroupHeaderRowHeaderTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,2" />
    <Setter Property="AllowDrop" Value="True" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="MinHeight" Value="23" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GroupHeaderRow" BasedOn="{StaticResource GroupHeaderRowStyle}" />
  <!--GridViewHeaderRow-->
  <DataTemplate x:Key="GridViewHeaderIndentCellDataTemplate">
    <grid:GridViewHeaderIndentCell />
  </DataTemplate>
  <ControlTemplate x:Key="GridViewHeaderRowTemplate" TargetType="grid:GridViewHeaderRow">
    <grid:SelectiveScrollingGrid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition />
      </Grid.RowDefinitions>
      <grid:CommonHeaderPresenter x:Name="PART_CommonHeaderPresenter" Grid.Column="3" />
      <Border x:Name="CommonHeaderIndent" Visibility="{Binding Visibility, ElementName=PART_CommonHeaderPresenter}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="2" Grid.ColumnSpan="2" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" BorderThickness="0,0,1,1" />
      <Border x:Name="PART_GridViewHeaderRowBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" Grid.Column="1" Grid.Row="1" Grid.ColumnSpan="4" Grid.RowSpan="2" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Padding="{TemplateBinding Padding}" BorderThickness="{TemplateBinding BorderThickness}"></Border>
      <Border x:Name="PART_FieldFilterPlaceholder" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" BorderThickness="0,1,0,0" Visibility="{TemplateBinding FieldFilterPlaceholderVisibility}" />
      <Border x:Name="PART_IndicatorPresenter" Width="40" Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" Visibility="{TemplateBinding RowIndicatorVisibility}" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" BorderThickness="0,0,1,1" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="2" />
      <grid:IndentPresenter x:Name="PART_IndentPresenter" Grid.Column="1" MinHeight="{TemplateBinding MinHeight}" IndentLevel="{TemplateBinding IndentLevel}" Grid.RowSpan="2" ItemTemplate="{StaticResource GridViewHeaderIndentCellDataTemplate}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <Border x:Name="PART_CommonHeaderHierarchyIndentPresenterAllLevels" Grid.Column="2" Grid.Row="0" Grid.RowSpan="10" Width="40" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" BorderThickness="0,0,1,1" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <Border x:Name="PART_CommonHeaderHierarchyIndentPresenterFirstLevel" Grid.Column="2" Grid.Row="0" Grid.RowSpan="1" Width="40" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" BorderThickness="0,0,1,0" Margin="0, -1, 0, 0" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <Border x:Name="PART_HierarchyIndentPresenter" Grid.Column="2" Width="40" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" Background="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" BorderThickness="0,0,1,1" Grid.RowSpan="2" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <grid:DataCellsPresenter x:Name="PART_DataCellsPresenter" Grid.Column="3" Grid.Row="1" />
    </grid:SelectiveScrollingGrid>
  </ControlTemplate>
  <Style x:Key="GridViewHeaderRowStyle" TargetType="grid:GridViewHeaderRow">
    <Setter Property="Template" Value="{StaticResource GridViewHeaderRowTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,1" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewHeaderRow" BasedOn="{StaticResource GridViewHeaderRowStyle}" />
  <!--GridViewFooterRow-->
  <DataTemplate x:Key="GridViewFooterIndentCellDataTemplate">
    <grid:GridViewFooterIndentCell />
  </DataTemplate>
  <ControlTemplate x:Key="GridViewFooterRowTemplate" TargetType="grid:GridViewFooterRow">
    <grid:SelectiveScrollingGrid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Border x:Name="PART_FooterRowBorder" Grid.Column="3" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
      <Border x:Name="PART_HierarchyIndent" Width="40" BorderThickness="0,0,0,0" Grid.Column="2" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <Border x:Name="PART_IndicatorPresenter" Width="40" VerticalAlignment="Stretch" Grid.Column="0" Visibility="{TemplateBinding RowIndicatorVisibility}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="3" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" BorderThickness="0,0,0,0" />
      <grid:IndentPresenter x:Name="PART_IndentPresenter" IndentLevel="{TemplateBinding IndentLevel}" ItemTemplate="{StaticResource GridViewFooterIndentCellDataTemplate}" Grid.Column="1" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <grid:DataCellsPresenter x:Name="PART_DataCellsPresenter" Grid.Column="3" />
    </grid:SelectiveScrollingGrid>
  </ControlTemplate>
  <Style x:Key="GridViewFooterRowStyle" TargetType="grid:GridViewFooterRow">
    <Setter Property="Template" Value="{StaticResource GridViewFooterRowTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewFooterRow" BasedOn="{StaticResource GridViewFooterRowStyle}" />
  <!--GridViewGroupFooterRow-->
  <DataTemplate x:Key="GridViewGroupFooterIndentCellDataTemplate">
    <grid:GridViewGroupFooterIndentCell />
  </DataTemplate>
  <ControlTemplate x:Key="GridViewGroupFooterRowTemplate" TargetType="grid:GridViewGroupFooterRow">
    <grid:SelectiveScrollingGrid>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="Auto" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>
      <Border x:Name="PART_FooterRowBorder" Grid.Column="3" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" />
      <Border x:Name="PART_HierarchyIndent" Width="40" BorderThickness="0,0,0,0" Grid.Column="2" Visibility="{Binding HasHierarchy, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <Border x:Name="PART_IndicatorPresenter" Width="40" VerticalAlignment="Stretch" Grid.Column="0" Visibility="{TemplateBinding RowIndicatorVisibility}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="3" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" BorderThickness="0,0,0,0" />
      <grid:IndentPresenter x:Name="PART_IndentPresenter" IndentLevel="{TemplateBinding IndentLevel}" ItemTemplate="{StaticResource GridViewGroupFooterIndentCellDataTemplate}" Grid.Column="1" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" />
      <grid:DataCellsPresenter x:Name="PART_DataCellsPresenter" Grid.Column="3" />
    </grid:SelectiveScrollingGrid>
  </ControlTemplate>
  <Style x:Key="GridViewGroupFooterRowStyle" TargetType="grid:GridViewGroupFooterRow">
    <Setter Property="Template" Value="{StaticResource GridViewGroupFooterRowTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=HighBrush}" />
    <Setter Property="MinHeight" Value="48" />
    <Setter Property="FontWeight" Value="Bold" />
    <Setter Property="FontSize" Value="15" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewGroupFooterRow" BasedOn="{StaticResource GridViewGroupFooterRowStyle}" />
  <!--GridViewCheckBox-->
  <ControlTemplate x:Key="GridViewCheckBoxTemplate" TargetType="grid:GridViewCheckBox">
    <Grid HorizontalAlignment="Left" Margin="10,0,0,0" Opacity="0.5" VerticalAlignment="Center" Width="36" Height="36">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="CheckStates">
          <VisualState x:Name="Checked">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames BeginTime="0" Duration="0" Storyboard.TargetName="checked" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames BeginTime="0" Duration="0" Storyboard.TargetName="checkMark" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Unchecked" />
          <VisualState x:Name="Indeterminate">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames BeginTime="0" Duration="0" Storyboard.TargetName="checked" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames BeginTime="0" Duration="0" Storyboard.TargetName="IndeterminatePath" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Rectangle x:Name="normal" Width="24" Height="24" Stroke="{TemplateBinding BorderBrush}" StrokeThickness="2" Fill="{TemplateBinding Background}" SnapsToDevicePixels="True" />
      <Rectangle x:Name="checked" Width="24" Height="24" Stroke="Transparent" StrokeThickness="2" Fill="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" Visibility="Collapsed" SnapsToDevicePixels="True" />
      <Path x:Name="checkMark" Data="M1.7881393E-07,0 L3.0000002,0 L3.0000002,4.999999 L12,4.999999 L12,7.999999 L3.0000002,7.999999 L1.7881393E-07,8 L0,4.999999 z" Fill="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" RenderTransformOrigin="0.5,0.5" Width="12" Height="8" VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="None" Visibility="Collapsed" SnapsToDevicePixels="True">
        <Path.RenderTransform>
          <TransformGroup>
            <ScaleTransform />
            <SkewTransform />
            <RotateTransform Angle="-45" />
            <TranslateTransform />
          </TransformGroup>
        </Path.RenderTransform>
      </Path>
      <Rectangle x:Name="indeterminateMark" Fill="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Width="12" Height="3" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed" SnapsToDevicePixels="True" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="GridViewCheckBoxStyle" TargetType="grid:GridViewCheckBox">
    <Setter Property="Template" Value="{StaticResource GridViewCheckBoxTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" />
  </Style>
  <Style TargetType="grid:GridViewCheckBox" BasedOn="{StaticResource GridViewCheckBoxStyle}" />
  <!--GridViewDataControl-->
  <ControlTemplate x:Key="GridViewDataControlTemplate" TargetType="grid:GridViewDataControl">
    <Border Name="PART_MasterGridContainer" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Padding="{TemplateBinding Padding}">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="GridViewActivity">
          <VisualState x:Name="Idle">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GridViewLoadingIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Busy">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GridViewLoadingIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ColumnHeadersVisibility">
          <VisualState x:Name="ColumnHeadersVisible" />
          <VisualState x:Name="ColumnHeadersCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ColumnFootersVisibility">
          <VisualState x:Name="ColumnFootersVisible" />
          <VisualState x:Name="ColumnFootersCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_FooterRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="GroupPanelVisibility">
          <VisualState x:Name="GroupPanelVisible" />
          <VisualState x:Name="GroupPanelCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GroupPanel" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="DisabledStates">
          <VisualState x:Name="Enabled" />
          <VisualState x:Name="Disabled">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Disabled" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid>
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition Height="Auto" />
          <RowDefinition />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <grid:GridViewGroupPanel x:Name="PART_GroupPanel" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Background="{TemplateBinding GroupPanelBackground}" Foreground="{TemplateBinding GroupPanelForeground}" />
        <StackPanel Grid.Row="1">
          <grid:GridViewHeaderRow x:Name="PART_HeaderRow" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" IndentLevel="{TemplateBinding GroupCount}" />
          <grid:GridViewNewRow Name="PART_AddNewRow" VerticalAlignment="Bottom" HorizontalAlignment="Left" IndentLevel="{TemplateBinding GroupCount}" Visibility="Collapsed" />
        </StackPanel>
        <grid:GridViewVirtualizingPanel x:Name="PART_GridViewVirtualizingPanel" Grid.Row="2" />
        <StackPanel Grid.Row="3">
          <grid:GridViewFooterRow x:Name="PART_FooterRow" IndentLevel="{TemplateBinding GroupCount}" />
        </StackPanel>
        <grid:ScrollPositionIndicator x:Name="PART_ScrollPositionIndicator" Margin="0,0,28,0" IsHitTestVisible="False" HorizontalAlignment="Right" Grid.Row="2" ContentTemplate="{TemplateBinding ScrollPositionIndicatorTemplate}" Visibility="{Binding IsScrolling, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" />
        <Border x:Name="PART_FrozenColumnsPreview" Grid.Row="1" Visibility="Collapsed" HorizontalAlignment="Left" VerticalAlignment="Stretch" Grid.RowSpan="4" Background="#2626A0DA" Width="20">
          <Border BorderThickness="1,0,0,0" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" HorizontalAlignment="Right" Width="10" />
        </Border>
        <grid:GridViewLoadingIndicator x:Name="PART_GridViewLoadingIndicator" Visibility="Collapsed" IsBusy="{Binding IsBusy, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
        <Rectangle x:Name="Background_Disabled" Fill="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Opacity="0.5" IsHitTestVisible="False" Grid.RowSpan="5" Visibility="Collapsed" />
      </Grid>
    </Border>
  </ControlTemplate>
  <Style x:Key="GridViewDataControlStyle" TargetType="grid:GridViewDataControl">
    <Setter Property="Template" Value="{StaticResource GridViewDataControlTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0,0,0,0" />
    <Setter Property="RowHeight" Value="40" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" />
    <Setter Property="AlternateRowBackground" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="GridLinesVisibility" Value="None" />
    <Setter Property="VerticalGridLinesBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="HorizontalGridLinesBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="GroupPanelBackground" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
    <Setter Property="GroupPanelForeground" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="MinColumnWidth" Value="42" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewDataControl" BasedOn="{StaticResource GridViewDataControlStyle}" />
  <!--GridViewEditorPresenter-->
  <ControlTemplate x:Key="GridViewEditorPresenter_ValidationToolTipTemplate" TargetType="ToolTip">
    <Grid x:Name="Root" Opacity="0" RenderTransformOrigin="0,0">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="OpenStates">
          <VisualStateGroup.Transitions>
            <VisualTransition GeneratedDuration="0" />
            <VisualTransition GeneratedDuration="0:0:0.2" To="Open">
              <Storyboard>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="0" />
                </DoubleAnimationUsingKeyFrames>
                <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                  <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="1" />
                </DoubleAnimationUsingKeyFrames>
              </Storyboard>
            </VisualTransition>
          </VisualStateGroup.Transitions>
          <VisualState x:Name="Closed">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Open">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="xform" Storyboard.TargetProperty="X">
                <SplineDoubleKeyFrame KeyTime="0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="Root" Storyboard.TargetProperty="Opacity">
                <SplineDoubleKeyFrame KeyTime="0" Value="1" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid.RenderTransform>
        <TranslateTransform x:Name="xform" X="-25" />
      </Grid.RenderTransform>
      <Border Padding="4,5" MinHeight="36" Background="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}">
        <TextBlock MaxWidth="250" Foreground="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Text="{TemplateBinding Content}" TextWrapping="Wrap" />
      </Border>
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="GridViewEditorPresenterTemplate" TargetType="grid:GridViewEditorPresenter">
    <Grid Background="Transparent">
      <ContentPresenter Margin="3,2,2,2" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
      <Border x:Name="ValidationErrorElement" Visibility="Collapsed" BorderThickness="1" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Margin="2">
        <ToolTipService.ToolTip>
          <ToolTip x:Name="validationTooltip" VerticalContentAlignment="Center" Placement="Right" Content="{TemplateBinding ErrorMessage}" FontSize="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" FontFamily="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" Template="{StaticResource GridViewEditorPresenter_ValidationToolTipTemplate}"></ToolTip>
        </ToolTipService.ToolTip>
        <Grid Background="Transparent" HorizontalAlignment="Right" Margin="-1" Height="30" VerticalAlignment="Top" Width="30">
          <Path Fill="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Width="4" Height="4" HorizontalAlignment="Right" VerticalAlignment="Top" Data="M0,0 L4,0 L4,4 z" />
        </Grid>
      </Border>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="ValueStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="InvalidFocusedState">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ValidationErrorElement" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
    </Grid>
  </ControlTemplate>
  <Style x:Key="GridViewEditorPresenterStyle" TargetType="grid:GridViewEditorPresenter">
    <Setter Property="Template" Value="{StaticResource GridViewEditorPresenterTemplate}" />
    <Setter Property="VerticalAlignment" Value="Stretch" />
    <Setter Property="HorizontalAlignment" Value="Stretch" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
  </Style>
  <Style TargetType="grid:GridViewEditorPresenter" BasedOn="{StaticResource GridViewEditorPresenterStyle}" />
  <!--GridViewToggleButton-->
  <!--PLUS / MINUS TEMPLATE-->
  <ControlTemplate x:Key="GridViewToggleButtonTemplate" TargetType="controls:GridViewToggleButton">
    <Border Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="MouseOver" />
          <VisualState x:Name="Disabled" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="CheckStates">
          <VisualState x:Name="Checked">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="plus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="minus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="1" />
              </DoubleAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="minus">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Unchecked" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="FocusStates">
          <VisualState x:Name="Focused" />
          <VisualState x:Name="Unfocused" />
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid>
        <Path x:Name="plus" Fill="{StaticResource  HighBrush}" Stretch="Fill" Stroke="{x:Null}" Margin="{TemplateBinding Padding}" Data="M1.937,0 L2.937,0 2.937,2.0209999 5,2.0209999 5,3.0209999 2.937,3.0209999 2.937,5 1.937,5 1.937,3.0209999 0,3.0209999 0,2.0209999 1.937,2.0209999 z" Width="10" Height="8" />
        <Rectangle x:Name="minus" Fill="{StaticResource  HighBrush}" Stroke="{x:Null}" RadiusX="0" RadiusY="0" Margin="{TemplateBinding Padding}" VerticalAlignment="Center" Height="2" HorizontalAlignment="Center" Width="10" Opacity="0" />
      </Grid>
    </Border>
  </ControlTemplate>
  <!--ARROW TEMPLATE-->
  <ControlTemplate x:Key="GridViewToggleButtonArrowTemplate" TargetType="controls:GridViewToggleButton">
    <Border Background="Transparent" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="MouseOver" />
          <VisualState x:Name="Disabled" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="CheckStates">
          <VisualState x:Name="Checked">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="plus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="0" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames Storyboard.TargetName="minus" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="0:0:0" Value="1" />
              </DoubleAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Fill" Storyboard.TargetName="minus">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Unchecked" />
        </VisualStateGroup>
        <VisualStateGroup x:Name="FocusStates">
          <VisualState x:Name="Focused" />
          <VisualState x:Name="Unfocused" />
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid Background="Transparent">
        <Path x:Name="plus" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="{StaticResource  MainForegroundBrush}" Width="10" Height="8" RenderTransformOrigin="0.5,0.5" Stretch="Fill" SnapsToDevicePixels="True">
          <Path.RenderTransform>
            <TransformGroup>
              <ScaleTransform />
              <SkewTransform />
              <RotateTransform Angle="90" />
              <TranslateTransform />
            </TransformGroup>
          </Path.RenderTransform>
        </Path>
        <Path x:Name="minus" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" Width="10" Height="8" RenderTransformOrigin="0.5,0.5" Opacity="0" Stretch="Fill" SnapsToDevicePixels="True">
          <Path.RenderTransform>
            <TransformGroup>
              <ScaleTransform />
              <SkewTransform />
              <RotateTransform Angle="180" />
              <TranslateTransform />
            </TransformGroup>
          </Path.RenderTransform>
        </Path>
      </Grid>
    </Border>
  </ControlTemplate>
  <Style x:Key="GridViewToggleButtonStyle" TargetType="controls:GridViewToggleButton">
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="Foreground" Value="{StaticResource  MainForegroundBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource  MediumBrush}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="PresentationMode" Value="Arrow" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Center" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="Template" Value="{StaticResource GridViewToggleButtonTemplate}" />
    <Setter Property="PlusMinusTemplate" Value="{StaticResource GridViewToggleButtonTemplate}" />
    <Setter Property="ArrowTemplate" Value="{StaticResource GridViewToggleButtonArrowTemplate}" />
    <Setter Property="MinWidth" Value="40" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="controls:GridViewToggleButton" BasedOn="{StaticResource GridViewToggleButtonStyle}" />
  <!--GridViewGroupPanel-->
  <ControlTemplate x:Key="GridViewGroupPanelTemplate" TargetType="grid:GridViewGroupPanel">
    <Border BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="Grouping">
          <VisualState x:Name="NoGroups" />
          <VisualState x:Name="HasGroups">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="panelText" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <StackPanel Orientation="Horizontal">
        <TextBlock x:Name="panelText" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Margin="{TemplateBinding Padding}" Text=" Gruplamak istediğin Bölümü Buraya Sürükle ve Bırak " IsHitTestVisible="False" />
        <ItemsPresenter VerticalAlignment="Center" />
      </StackPanel>
    </Border>
  </ControlTemplate>
  <ItemsPanelTemplate x:Key="GridViewGroupPanelItemsPanelTemplate">
    <StackPanel Orientation="Horizontal" VerticalAlignment="Stretch" />
  </ItemsPanelTemplate>
  <Style x:Key="GridViewGroupPanelStyle" TargetType="grid:GridViewGroupPanel">
    <Setter Property="Template" Value="{StaticResource GridViewGroupPanelTemplate}" />
    <Setter Property="ItemsPanel" Value="{StaticResource GridViewGroupPanelItemsPanelTemplate}" />
    <Setter Property="Padding" Value="10,14,3,14" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
    <Setter Property="BorderBrush" Value="{x:Null}" />
    <Setter Property="FontFamily" Value="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewGroupPanel" BasedOn="{StaticResource GridViewGroupPanelStyle}" />
  <!--GridViewGroupPanelCell-->
  <Storyboard x:Key="MouseOver">
    <DoubleAnimationUsingKeyFrames BeginTime="0" Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
      <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="1" />
    </DoubleAnimationUsingKeyFrames>
    <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.0010000" Storyboard.TargetName="ContentElement" Storyboard.TargetProperty="Opacity">
      <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="1" />
    </DoubleAnimationUsingKeyFrames>
    <DoubleAnimationUsingKeyFrames BeginTime="0" Storyboard.TargetName="ContentElement" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
      <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="-4" />
    </DoubleAnimationUsingKeyFrames>
  </Storyboard>
  <Storyboard x:Key="MouseOut">
    <DoubleAnimationUsingKeyFrames BeginTime="0" Storyboard.TargetName="PART_CloseButton" Storyboard.TargetProperty="Opacity">
      <DiscreteDoubleKeyFrame KeyTime="0:0:0.2" Value="0" />
    </DoubleAnimationUsingKeyFrames>
    <DoubleAnimationUsingKeyFrames BeginTime="0" Storyboard.TargetName="ContentElement" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
      <SplineDoubleKeyFrame KeyTime="0:0:0.2" Value="0" />
    </DoubleAnimationUsingKeyFrames>
  </Storyboard>
  <ControlTemplate x:Key="GridViewGroupPanelCellTemplate" TargetType="grid:GridViewGroupPanelCell">
    <Grid>
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="CommonStates">
          <VisualStateGroup.Transitions>
            <VisualTransition GeneratedDuration="00:00:00.2" To="MouseOver" />
            <VisualTransition GeneratedDuration="00:00:00.2" To="Normal" />
          </VisualStateGroup.Transitions>
          <VisualState x:Name="Normal" />
          <VisualState x:Name="MouseOver">
            <Storyboard>
              <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.00" Storyboard.TargetName="ContentElement" Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.X)">
                <EasingDoubleKeyFrame KeyTime="00:00:00" Value="-4" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.00" Storyboard.TargetName="ContentElement" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="1" />
              </DoubleAnimationUsingKeyFrames>
              <DoubleAnimationUsingKeyFrames BeginTime="00:00:00" Duration="00:00:00.00" Storyboard.TargetName="OuterBorder" Storyboard.TargetProperty="Opacity">
                <DiscreteDoubleKeyFrame KeyTime="00:00:00" Value="1" />
              </DoubleAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="SortDirection">
          <VisualState x:Name="Ascending">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility" Storyboard.TargetName="PART_SortIndicator">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Descending">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_SortIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="RenderTransform" Storyboard.TargetName="PART_SortIndicator">
                <DiscreteObjectKeyFrame KeyTime="0:0:0">
                  <DiscreteObjectKeyFrame.Value>
                    <ScaleTransform ScaleY="-1" ScaleX="1" />
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="None">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_SortIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="auto" />
      </Grid.ColumnDefinitions>
      <Border x:Name="OuterBorder" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
        <StackPanel VerticalAlignment="Center" Orientation="Horizontal" Margin="7,0,2,0">
          <Path x:Name="PART_SortIndicator" Data="M10.000001,0 L20.000002,20 L2.3395899E-08,20 z" Fill="White" SnapsToDevicePixels="True" RenderTransformOrigin="0.5,0.5" Stretch="Fill" Width="10" Height="8">
            <Path.RenderTransform>
              <TransformGroup>
                <ScaleTransform />
                <SkewTransform />
                <RotateTransform />
                <TranslateTransform />
              </TransformGroup>
            </Path.RenderTransform>
          </Path>
          <ContentControl x:Name="ContentElement" Content="{TemplateBinding Content}" Foreground="{TemplateBinding Foreground}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" IsTabStop="{TemplateBinding IsTabStop}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}">
            <ContentControl.RenderTransform>
              <TransformGroup>
                <ScaleTransform />
                <SkewTransform />
                <RotateTransform />
                <TranslateTransform />
              </TransformGroup>
            </ContentControl.RenderTransform>
          </ContentControl>
        </StackPanel>
      </Border>
      <Grid Margin="-1,0,0,0" HorizontalAlignment="Right" Width="25" Grid.Column="1">
        <Path Data="M1775.7012,1131.8196 L1777.7325,1131.8196 L1786.8125,1140.9375 L1777.7598,1149.9893 L1775.7328,1149.9893" Stretch="Fill" Fill="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" SnapsToDevicePixels="True" Margin="11.175,0,-0.175,0" />
        <Path Data="M1766.6064,1131.8196 L1777.7325,1131.8196 L1786.8125,1140.9375 L1777.7598,1149.9893 L1766.6381,1149.9893" Stretch="Fill" Fill="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" SnapsToDevicePixels="True" Margin="0,0,1.174,0" />
      </Grid>
    </Grid>
  </ControlTemplate>
  <Style x:Key="GridViewGroupPanelCellStyle" TargetType="grid:GridViewGroupPanelCell">
    <Setter Property="Template" Value="{StaticResource GridViewGroupPanelCellTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="Padding" Value="8,14" />
    <Setter Property="MinWidth" Value="84" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Center" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="FontFamily" Value="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" />
    <Setter Property="FontSize" Value="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewGroupPanelCell" BasedOn="{StaticResource GridViewGroupPanelCellStyle}" />
  <!--GridViewGroupPanelItem-->
  <zinderud:InvertedBooleanToOpacityConverter x:Key="InvertedBooleanToOpacityConverter" />
  <ControlTemplate x:Key="GridViewGroupPanelItemTemplate" TargetType="grid:GridViewGroupPanelItem">
    <StackPanel x:Name="PART_GroupPanelItemStackPanel" Orientation="Horizontal" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" Background="{TemplateBinding Background}">
      <grid:GridViewGroupPanelCell Content="{TemplateBinding Content}" SortDirection="{Binding Path=SortDirection}" x:Name="PART_Cell" />
    </StackPanel>
  </ControlTemplate>
  <Style x:Key="GridViewGroupPanelItemStyle" TargetType="grid:GridViewGroupPanelItem">
    <Setter Property="Template" Value="{StaticResource GridViewGroupPanelItemTemplate}" />
    <Setter Property="Background" Value="Transparent" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
  </Style>
  <Style TargetType="grid:GridViewGroupPanelItem" BasedOn="{StaticResource GridViewGroupPanelItemStyle}" />
  <!--GridViewIndicatorCell-->
  <ControlTemplate x:Key="GridViewIndicatorCellTemplate" TargetType="grid:GridViewIndicatorCell">
    <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
      <ContentPresenter VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" Content="{TemplateBinding Content}" />
    </Border>
  </ControlTemplate>
  <Style x:Key="GridViewIndicatorCellStyle" TargetType="grid:GridViewIndicatorCell">
    <Setter Property="Template" Value="{StaticResource GridViewIndicatorCellTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Center" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:GridViewIndicatorCell" BasedOn="{StaticResource GridViewIndicatorCellStyle}" />
  <!--GridViewLoadingIndicator-->
  <ControlTemplate x:Key="GridViewLoadingIndicatorTemplate" TargetType="grid:GridViewLoadingIndicator">
    <zinderud:SioBusyIndicator IsBusy="True" BusyContent="{x:Null}" />
  </ControlTemplate>
  <Style x:Key="GridViewLoadingIndicatorStyle" TargetType="grid:GridViewLoadingIndicator">
    <Setter Property="Template" Value="{StaticResource GridViewLoadingIndicatorTemplate}" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Center" />
  </Style>
  <Style TargetType="grid:GridViewLoadingIndicator" BasedOn="{StaticResource GridViewLoadingIndicatorStyle}" />
  <!--GridViewScrollViewer-->
  <ControlTemplate x:Key="GridViewScrollViewerTemplate" TargetType="grid:GridViewScrollViewer">
    <Grid Name="PART_RootPanel" Background="{TemplateBinding Background}">
      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*" />
        <ColumnDefinition Width="Auto" />
      </Grid.ColumnDefinitions>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="*" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <ScrollContentPresenter Grid.Row="2" CanContentScroll="{TemplateBinding CanContentScroll}" />
      <ScrollBar x:Name="PART_VerticalScrollBar" IsTabStop="False" Visibility="{TemplateBinding ComputedVerticalScrollBarVisibility}" Grid.Column="1" Grid.Row="0" Grid.RowSpan="4" Orientation="Vertical" ViewportSize="{TemplateBinding ViewportHeight}" Maximum="{TemplateBinding ScrollableHeight}" Minimum="0.0" Value="{Binding VerticalOffset, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}" />
      <ScrollBar x:Name="PART_HorizontalScrollBar" IsTabStop="False" Visibility="{TemplateBinding ComputedHorizontalScrollBarVisibility}" Grid.Column="0" Grid.Row="4" Orientation="Horizontal" ViewportSize="{TemplateBinding ViewportWidth}" Maximum="{TemplateBinding ScrollableWidth}" Minimum="0.0" Value="{Binding HorizontalOffset, RelativeSource={RelativeSource TemplatedParent}, Mode=OneWay}" />
      <Rectangle Grid.Column="1" Grid.Row="4" Fill="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    </Grid>
  </ControlTemplate>
  <Style x:Key="GridViewScrollViewerStyle" TargetType="grid:GridViewScrollViewer">
    <Setter Property="Template" Value="{StaticResource GridViewScrollViewerTemplate}" />
    <!--
		<Setter Property="PanningMode" Value="Both" />
		-->
  </Style>
  <Style TargetType="grid:GridViewScrollViewer" BasedOn="{StaticResource GridViewScrollViewerStyle}" />
  <!--IndentPresenter-->
  <ControlTemplate x:Key="IndentPresenterTemplate" TargetType="grid:IndentPresenter">
    <Grid>
      <ItemsPresenter />
    </Grid>
  </ControlTemplate>
  <DataTemplate x:Key="IndentPresenterItemTemplate">
    <grid:GridViewIndentCell />
  </DataTemplate>
  <ItemsPanelTemplate x:Key="IndentPresenterItemsPanelTemplate">
    <StackPanel Orientation="Horizontal" />
  </ItemsPanelTemplate>
  <Style x:Key="IndentPresenterStyle" TargetType="grid:IndentPresenter">
    <Setter Property="Template" Value="{StaticResource IndentPresenterTemplate}" />
    <Setter Property="ItemTemplate" Value="{StaticResource IndentPresenterItemTemplate}" />
    <Setter Property="ItemsPanel" Value="{StaticResource IndentPresenterItemsPanelTemplate}" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:IndentPresenter" BasedOn="{StaticResource IndentPresenterStyle}" />
  <!--SioGridView-->
  <ControlTemplate x:Key="SioGridViewTemplate" TargetType="controls:SioGridView">
    <Border Name="PART_MasterGridContainer" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="GridViewActivity">
          <VisualState x:Name="Idle">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GridViewLoadingIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Busy">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GridViewLoadingIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ColumnHeadersVisibility">
          <VisualState x:Name="ColumnHeadersVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="ColumnHeadersCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ColumnFootersVisibility">
          <VisualState x:Name="ColumnFootersVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_FooterRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="ColumnFootersCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_FooterRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="GroupPanelVisibility">
          <VisualState x:Name="GroupPanelVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GroupPanel" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="GroupPanelCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GroupPanel" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="InsertRowVisibility">
          <VisualState x:Name="InsertRowVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_AddNewRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="InsertRowCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_AddNewRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="DisabledStates">
          <VisualState x:Name="Enabled" />
          <VisualState x:Name="Disabled">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Disabled" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid x:Name="HierrarchyBackground">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition x:Name="PART_AttachedBehaviorRow" Height="Auto" />
          <RowDefinition />
          <RowDefinition x:Name="ScrollBarRow" MinHeight="0" Height="0" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition />
          <ColumnDefinition x:Name="ScrollBarColumn" MinWidth="0" Width="0" />
        </Grid.ColumnDefinitions>
        <grid:GridViewGroupPanel x:Name="PART_GroupPanel" Grid.Row="0" Grid.ColumnSpan="2" Background="{TemplateBinding GroupPanelBackground}" Margin="-1, -1, -1, 0" Foreground="{TemplateBinding GroupPanelForeground}" />
        <grid:GridViewScrollViewer x:Name="PART_ItemsScrollViewer" Background="Transparent" CanContentScroll="True" Grid.Row="2" Grid.RowSpan="2" Grid.ColumnSpan="2">
          <grid:GridViewScrollViewer.HeaderRow>
            <grid:GridViewHeaderRow x:Name="PART_HeaderRow" IndentLevel="{TemplateBinding GroupCount}" />
          </grid:GridViewScrollViewer.HeaderRow>
          <grid:GridViewScrollViewer.NewRow>
            <grid:GridViewNewRow Name="PART_AddNewRow" IndentLevel="{TemplateBinding GroupCount}" Visibility="Collapsed" />
          </grid:GridViewScrollViewer.NewRow>
          <grid:GridViewScrollViewer.FooterRow>
            <grid:GridViewFooterRow x:Name="PART_FooterRow" IndentLevel="{TemplateBinding GroupCount}" />
          </grid:GridViewScrollViewer.FooterRow>
          <grid:GridViewVirtualizingPanel x:Name="PART_GridViewVirtualizingPanel" />
        </grid:GridViewScrollViewer>
        <grid:ScrollPositionIndicator x:Name="PART_ScrollPositionIndicator" Margin="0,0,28,0" IsHitTestVisible="False" HorizontalAlignment="Right" Grid.Row="2" Grid.ColumnSpan="2" Visibility="{Binding IsScrolling, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" ContentTemplate="{TemplateBinding ScrollPositionIndicatorTemplate}" />
        <Border x:Name="PART_FrozenColumnsPreview" Grid.Row="1" Visibility="Collapsed" HorizontalAlignment="Left" VerticalAlignment="Stretch" Grid.RowSpan="4" Background="#2626A0DA" Width="20">
          <Border BorderThickness="1,0,0,0" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" HorizontalAlignment="Right" Width="10" />
        </Border>
        <grid:GridViewLoadingIndicator x:Name="PART_GridViewLoadingIndicator" Visibility="Collapsed" IsBusy="{Binding IsBusy, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" Grid.RowSpan="4" Grid.ColumnSpan="2" />
        <Rectangle x:Name="Background_Disabled" Fill="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Opacity="0.5" IsHitTestVisible="False" Grid.RowSpan="5" Visibility="Collapsed" />
      </Grid>
    </Border>
  </ControlTemplate>
  <Style x:Key="SioGridViewStyle" TargetType="controls:SioGridView">
    <Setter Property="Template" Value="{StaticResource SioGridViewTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" />
    <Setter Property="BorderBrush" Value="{StaticResource  MediumBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="AlternateRowBackground" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="GridLinesVisibility" Value="None" />
    <Setter Property="VerticalGridLinesBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="HorizontalGridLinesBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="GroupPanelBackground" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
    <Setter Property="GroupPanelForeground" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
    <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
    <Setter Property="VerticalAlignment" Value="Stretch" />
    <Setter Property="HorizontalAlignment" Value="Stretch" />
    <Setter Property="FontFamily" Value="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" />
    <Setter Property="FontSize" Value="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" />
    <Setter Property="MinColumnWidth" Value="42" />
    <Setter Property="RowHeight" Value="40" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="controls:SioGridView" BasedOn="{StaticResource SioGridViewStyle}" />
  <!--RadTreeListView-->
  <Style x:Key="TreeListViewDragCueStyle" TargetType="controls:TreeListViewDragCue">
    <Setter Property="IsHitTestVisible" Value="False" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="Padding" Value="10,6" />
    <Setter Property="FontSize" Value="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" />
    <Setter Property="FontFamily" Value="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" />
    <Setter Property="Template">
      <Setter.Value>
        <ControlTemplate TargetType="controls:TreeListViewDragCue">
          <StackPanel>
            <VisualStateManager.VisualStateGroups>
              <VisualStateGroup x:Name="DropStates">
                <VisualState x:Name="DropPossible" />
                <VisualState x:Name="DropImpossible">
                  <Storyboard>
                    <ObjectAnimationUsingKeyFrames Storyboard.TargetName="DropImpossibleIconElement" Storyboard.TargetProperty="Visibility">
                      <DiscreteObjectKeyFrame KeyTime="0">
                        <DiscreteObjectKeyFrame.Value>
                          <Visibility>Visible</Visibility>
                        </DiscreteObjectKeyFrame.Value>
                      </DiscreteObjectKeyFrame>
                    </ObjectAnimationUsingKeyFrames>
                  </Storyboard>
                </VisualState>
              </VisualStateGroup>
            </VisualStateManager.VisualStateGroups>
            <Grid HorizontalAlignment="Left" Visibility="{TemplateBinding DragPreviewVisibility}" MinHeight="32">
              <Border Background="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}">
                <ItemsPresenter Margin="{TemplateBinding Padding}" />
              </Border>
              <Grid x:Name="DraggedItemsCountContainer" Visibility="Collapsed" Width="Auto" Height="Auto" HorizontalAlignment="Center" VerticalAlignment="Center">
                <Border BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" MinHeight="32" BorderThickness="1" Padding="40" />
                <TextBlock Margin="3" x:Name="DraggedItemsCountText" HorizontalAlignment="{TemplateBinding HorizontalAlignment}" VerticalAlignment="{TemplateBinding VerticalAlignment}" Text="5" FontSize="{TemplateBinding FontSize}" FontFamily="{TemplateBinding FontFamily}" />
              </Grid>
            </Grid>
            <Border BorderBrush="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" Background="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" MinHeight="32" BorderThickness="1" CornerRadius="1" Padding="4,4,0,0" Visibility="{TemplateBinding DragTooltipVisibility}">
              <StackPanel Orientation="Horizontal">
                <ContentPresenter x:Name="DropImpossibleIconElement" Content="{TemplateBinding DropImpossibleIcon}" ContentTemplate="{TemplateBinding DropImpossibleIconTemplate}" Visibility="Collapsed" />
                <ContentControl Margin="4,0,0,0" Content="{TemplateBinding DragActionContent}" ContentTemplate="{TemplateBinding DragActionContentTemplate}" FontSize="{TemplateBinding FontSize}" FontFamily="{TemplateBinding FontFamily}" VerticalAlignment="Center" Foreground="{StaticResource  HighBrush}" />
                <ContentControl Foreground="{StaticResource  HighBrush}" Content="{TemplateBinding DragTooltipContent}" ContentTemplate="{TemplateBinding DragTooltipContentTemplate}" FontSize="{TemplateBinding FontSize}" FontFamily="{TemplateBinding FontFamily}" VerticalAlignment="Center" />
              </StackPanel>
            </Border>
          </StackPanel>
        </ControlTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="DropImpossibleIcon" Value="The icon is assigned as DataTemplate because assigning as Content triggers a bug in Silverlight" />
    <Setter Property="DropImpossibleIconTemplate">
      <Setter.Value>
        <DataTemplate>
          <Grid>
            <Path Fill="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Stretch="Fill" Margin="0,0,0,6" StrokeThickness="0.5" Width="16" Height="16" Data="M2.0090871,3.5463004 L1.9827784,3.5933623 C1.6748887,4.1601357 1.5,4.8096442 1.5,5.5 1.5,7.7091389 3.2908609,9.5 5.5,9.5 6.1903558,9.5 6.8398643,9.3251114 7.4066377,9.0172215 L7.4536991,8.9909134 z M5.5,1.5 C4.7406082,1.5 4.0306425,1.7116154 3.4258544,2.0790935 L3.3916554,2.1004417 8.8995581,7.6083441 8.9209061,7.5741453 C9.2883844,6.9693575 9.5,6.2593913 9.5,5.5 9.5,3.2908609 7.7091389,1.5 5.5,1.5 z M5.5,0 C8.5375662,0 11,2.4624338 11,5.5 11,8.5375662 8.5375662,11 5.5,11 2.4624338,11 0,8.5375662 0,5.5 0,2.4624338 2.4624338,0 5.5,0 z" />
          </Grid>
        </DataTemplate>
      </Setter.Value>
    </Setter>
    <Setter Property="DropPossibleIcon" Value="The icon is assigned as DataTemplate because assigning as Content triggers a bug in Silverlight" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="controls:TreeListViewDragCue" BasedOn="{StaticResource TreeListViewDragCueStyle}" />
  <ControlTemplate x:Key="RadTreeListViewTemplate" TargetType="controls:SioTreeListView">
    <Border Name="PART_MasterGridContainer" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="{TemplateBinding Padding}">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="GridViewActivity">
          <VisualState x:Name="Idle">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GridViewLoadingIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Busy">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_GridViewLoadingIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ColumnHeadersVisibility">
          <VisualState x:Name="ColumnHeadersVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="ColumnHeadersCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_HeaderRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ColumnFootersVisibility">
          <VisualState x:Name="ColumnFootersVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_FooterRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="ColumnFootersCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_FooterRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="InsertRowVisibility">
          <VisualState x:Name="InsertRowVisible">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_AddNewRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="InsertRowCollapsed">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_AddNewRow" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <Grid Background="{TemplateBinding Background}" x:Name="HierrarchyBackground">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto" />
          <RowDefinition x:Name="PART_AttachedBehaviorRow" Height="Auto" />
          <RowDefinition />
          <RowDefinition x:Name="ScrollBarRow" MinHeight="0" Height="0" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
          <ColumnDefinition />
          <ColumnDefinition x:Name="ScrollBarColumn" MinWidth="0" Width="0" />
        </Grid.ColumnDefinitions>
        <grid:GridViewScrollViewer x:Name="PART_ItemsScrollViewer" Background="Transparent" CanContentScroll="True" Grid.Row="2" Grid.RowSpan="2" Grid.ColumnSpan="2">
          <grid:GridViewScrollViewer.HeaderRow>
            <grid:GridViewHeaderRow x:Name="PART_HeaderRow" IndentLevel="{TemplateBinding GroupCount}" />
          </grid:GridViewScrollViewer.HeaderRow>
          <grid:GridViewScrollViewer.NewRow>
            <grid:GridViewNewRow Name="PART_AddNewRow" IndentLevel="{TemplateBinding GroupCount}" Visibility="Collapsed" />
          </grid:GridViewScrollViewer.NewRow>
          <grid:GridViewScrollViewer.FooterRow>
            <grid:GridViewFooterRow x:Name="PART_FooterRow" IndentLevel="{TemplateBinding GroupCount}" />
          </grid:GridViewScrollViewer.FooterRow>
          <treelist:TreeListViewVirtualizingPanel x:Name="PART_GridViewVirtualizingPanel" />
        </grid:GridViewScrollViewer>
        <grid:ScrollPositionIndicator x:Name="PART_ScrollPositionIndicator" Margin="0,0,28,0" IsHitTestVisible="False" HorizontalAlignment="Right" Grid.Row="2" Grid.ColumnSpan="2" Visibility="{Binding IsScrolling, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource BooleanToVisibilityConverter}}" ContentTemplate="{TemplateBinding ScrollPositionIndicatorTemplate}" />
        <Border x:Name="PART_FrozenColumnsPreview" Grid.Row="1" Visibility="Collapsed" HorizontalAlignment="Left" VerticalAlignment="Stretch" Grid.RowSpan="4" Background="#2626A0DA" Width="20">
          <Border BorderThickness="1,0,0,0" BorderBrush="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" HorizontalAlignment="Right" Width="10" />
        </Border>
        <grid:GridViewLoadingIndicator x:Name="PART_GridViewLoadingIndicator" Visibility="Collapsed" Grid.RowSpan="4" Grid.ColumnSpan="2" IsBusy="{Binding IsBusy, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
        <Rectangle x:Name="Background_Disabled" Fill="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" Opacity="0.5" IsHitTestVisible="False" Grid.RowSpan="5" Visibility="Collapsed" />
      </Grid>
    </Border>
  </ControlTemplate>
    <Style x:Key="RadTreeListViewStyle" TargetType="controls:SioTreeListView">
    <Setter Property="Template" Value="{StaticResource RadTreeListViewTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="Foreground" Value="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="GridLinesVisibility" Value="None" />
    <Setter Property="AlternateRowBackground" Value="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
    <Setter Property="VerticalGridLinesBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="HorizontalGridLinesBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
    <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
    <Setter Property="VerticalAlignment" Value="Stretch" />
    <Setter Property="HorizontalAlignment" Value="Stretch" />
    <Setter Property="FontFamily" Value="{zinderud:Windows8TouchResource ResourceKey=FontFamily}" />
    <Setter Property="FontSize" Value="{zinderud:Windows8TouchResource ResourceKey=FontSizeL}" />
    <Setter Property="MinColumnWidth" Value="42" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
    <Style TargetType="controls:SioTreeListView" BasedOn="{StaticResource RadTreeListViewStyle}" />
  <!--TreeListViewRow-->
  <ControlTemplate x:Key="TreeListViewRowTemplate" TargetType="treelist:TreeListViewRow">
    <Border BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}">
      <VisualStateManager.VisualStateGroups>
        <VisualStateGroup x:Name="FocusStates">
          <VisualState x:Name="Unfocused" />
          <VisualState x:Name="Focused">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NavigatorIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="SelectionStates">
          <VisualState x:Name="Unselected" />
          <VisualState x:Name="SelectedUnfocused">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Background_Over" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Over" Storyboard.TargetProperty="Fill">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{zinderud:Windows8TouchResource ResourceKey=AccentBrush}" />
              </ObjectAnimationUsingKeyFrames>
              <DoubleAnimation To="0.1" Duration="0" Storyboard.TargetName="Background_Over" Storyboard.TargetProperty="(UIElement.Opacity)" />
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="CommonStates">
          <VisualState x:Name="Normal" />
          <VisualState x:Name="MouseOver">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Duration="0" Storyboard.TargetName="Background_Over" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
          <VisualState x:Name="Selected">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Selected" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="00:00:00">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_DataCellsPresenter" Storyboard.TargetProperty="Foreground">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{zinderud:Windows8TouchResource ResourceKey=MainForegroundBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
        <VisualStateGroup x:Name="ValueStates">
          <VisualState x:Name="RowValid" />
          <VisualState x:Name="RowInvalid">
            <Storyboard>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="Background_Invalid" Storyboard.TargetProperty="(UIElement.Visibility)">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="ErrorIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Visible</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetName="NavigatorIndicator" Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0">
                  <DiscreteObjectKeyFrame.Value>
                    <Visibility>Collapsed</Visibility>
                  </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
              </ObjectAnimationUsingKeyFrames>
              <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Foreground" Storyboard.TargetName="PART_DataCellsPresenter">
                <DiscreteObjectKeyFrame KeyTime="0:0:0" Value="{zinderud:Windows8TouchResource ResourceKey=InvertedForegroundBrush}" />
              </ObjectAnimationUsingKeyFrames>
            </Storyboard>
          </VisualState>
        </VisualStateGroup>
      </VisualStateManager.VisualStateGroups>
      <grid:SelectiveScrollingGrid x:Name="grid" Background="Transparent">
        <Grid.ColumnDefinitions>
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="Auto" />
          <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
          <RowDefinition Height="*" />
          <RowDefinition Height="Auto" />
          <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid Grid.Column="2" x:Name="PART_SelectiveScrollingElements">
          <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
          </Grid.ColumnDefinitions>
          <Border x:Name="SelectionBackground" Background="{TemplateBinding Background}" Margin="{TemplateBinding Margin}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Padding="{TemplateBinding Padding}" Grid.ColumnSpan="2" />
          <Border x:Name="PART_RowBorder" BorderBrush="{TemplateBinding HorizontalGridLinesBrush}" BorderThickness="{Binding HorizontalGridLinesWidth, RelativeSource={RelativeSource TemplatedParent}, Converter={StaticResource GridLineWidthToThicknessConverter}, ConverterParameter=Bottom}" Grid.ColumnSpan="3" Grid.Column="1" Grid.RowSpan="4" VerticalAlignment="Bottom" />
          <Rectangle x:Name="Background_Over" Visibility="Collapsed" Grid.Column="1" Fill="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" Opacity="0.05" />
          <Rectangle x:Name="Background_Selected" Grid.Column="1" Visibility="Collapsed" Fill="{zinderud:Windows8TouchResource ResourceKey=LowBrush}" />
          <Rectangle x:Name="Background_Invalid" Visibility="Collapsed" Grid.Column="1" Fill="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" />
        </Grid>
        <controls:GridViewToggleButton x:Name="PART_ExpandButton" HorizontalAlignment="Left" HorizontalContentAlignment="Center" Width="20" Grid.Column="1" Grid.ColumnSpan="2" PresentationMode="Arrow" IsTabStop="False" IsChecked="{Binding IsExpanded, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" />
        <grid:DataCellsPresenter Grid.ColumnSpan="2" Grid.Column="1" x:Name="PART_DataCellsPresenter">
          <grid:DataCellsPresenter.ItemsPanel>
            <ItemsPanelTemplate>
              <treelist:TreeListCellsPanel />
            </ItemsPanelTemplate>
          </grid:DataCellsPresenter.ItemsPanel>
        </grid:DataCellsPresenter>
        <grid:DetailsPresenter x:Name="PART_DetailsPresenter" Grid.Column="2" Grid.ColumnSpan="2" Grid.Row="1" Visibility="Collapsed" DetailsProvider="{TemplateBinding DetailsProvider}" />
        <Border x:Name="PART_IndicatorPresenter" Width="40" VerticalAlignment="Stretch" Visibility="{TemplateBinding RowIndicatorVisibility}" grid:SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical" Grid.RowSpan="3" Background="Transparent">
          <Grid>
            <Grid x:Name="NavigatorIndicator" Width="14" Height="14" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed">
              <Path Data="M20,12L20,4L27,8z M23,1C19.062,1,16,4.062,16,8C16,11.937,19.062,15,23,15C26.938,15,30,11.937,30,8C30,4.062,26.938,1,23,1" Fill="{zinderud:Windows8TouchResource ResourceKey=InvertedBrush}" Stretch="Fill" SnapsToDevicePixels="True" />
            </Grid>
            <Grid x:Name="ErrorIndicator" HorizontalAlignment="Center" Width="14" Height="14" VerticalAlignment="Center" Visibility="Collapsed">
              <Path Data="M39,9L37,9L37,3L39,3zM39,13L37,13L37,11L39,11zM38,1C34.063,1 31,4.062 31,8C31,11.937 34.063,15 38,15C41.938,15 45,11.937 45,8C45,4.062 41.938,1 38,1" Fill="{zinderud:Windows8TouchResource ResourceKey=ValidationBrush}" Stretch="Fill" SnapsToDevicePixels="True"></Path>
            </Grid>
            <Border x:Name="PART_RowResizer" Background="Transparent" Height="4" VerticalAlignment="Bottom" Cursor="SizeNS" />
          </Grid>
        </Border>
      </grid:SelectiveScrollingGrid>
    </Border>
  </ControlTemplate>
  <Style x:Key="TreeListViewRowStyle" TargetType="treelist:TreeListViewRow">
    <Setter Property="IsTabStop" Value="False" />
    <Setter Property="Template" Value="{StaticResource TreeListViewRowTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="0" />
    <Setter Property="AllowDrop" Value="True" />
    <Setter Property="VerticalContentAlignment" Value="Stretch" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="treelist:TreeListViewRow" BasedOn="{StaticResource TreeListViewRowStyle}" />
  <!--LookupElement-->
  <ControlTemplate x:Key="NonEditableComboBox" TargetType="input:SioComboBox">
    <Grid x:Name="VisualRoot">
      <ContentPresenter x:Name="Content" Grid.Column="0" Margin="{TemplateBinding Padding}" IsHitTestVisible="False" Content="{TemplateBinding SelectionBoxItem}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" />
    </Grid>
  </ControlTemplate>
  <ControlTemplate x:Key="LookupElementTemplate" TargetType="grid:LookupElement">
    <input:SioComboBox x:Name="PART_SioComboBox" IsSynchronizedWithCurrentItem="False" Foreground="{Binding Foreground,RelativeSource={RelativeSource TemplatedParent}}" NonEditableTemplate="{StaticResource NonEditableComboBox}" ItemTemplate="{Binding ItemTemplate,RelativeSource={RelativeSource TemplatedParent}}" SelectedValuePath="{Binding SelectedValuePath,RelativeSource={RelativeSource TemplatedParent}}" DisplayMemberPath="{Binding DisplayMemberPath,RelativeSource={RelativeSource TemplatedParent}}" SelectedValue="{Binding SelectedValue,RelativeSource={RelativeSource TemplatedParent}}" ItemsSource="{Binding ItemsSource,RelativeSource={RelativeSource TemplatedParent}}" Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" IsTabStop="{TemplateBinding IsTabStop}" />
  </ControlTemplate>
  <Style x:Key="LookupElementStyle" TargetType="grid:LookupElement">
    <Setter Property="Template" Value="{StaticResource LookupElementTemplate}" />
    <Setter Property="Padding" Value="0" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
    <Setter Property="IsHitTestVisible" Value="False" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:LookupElement" BasedOn="{StaticResource LookupElementStyle}" />
  <!--ScrollPositionIndicator-->
  <ControlTemplate x:Key="ScrollPositionIndicatorTemplate" TargetType="grid:ScrollPositionIndicator">
    <Border HorizontalAlignment="Right" VerticalAlignment="Center" Width="Auto" Height="Auto" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}" Background="{TemplateBinding Background}">
      <ContentPresenter Margin="{TemplateBinding Padding}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Content="{TemplateBinding Content}" ContentTemplate="{TemplateBinding ContentTemplate}" />
    </Border>
  </ControlTemplate>
  <Style x:Key="ScrollPositionIndicatorStyle" TargetType="grid:ScrollPositionIndicator">
    <Setter Property="Template" Value="{StaticResource ScrollPositionIndicatorTemplate}" />
    <Setter Property="Background" Value="{zinderud:Windows8TouchResource ResourceKey=MainBrush}" />
    <Setter Property="BorderBrush" Value="{zinderud:Windows8TouchResource ResourceKey=MediumBrush}" />
    <Setter Property="BorderThickness" Value="1" />
    <Setter Property="VerticalContentAlignment" Value="Center" />
    <Setter Property="HorizontalContentAlignment" Value="Left" />
    <Setter Property="Padding" Value="15,5" />
    <Setter Property="SnapsToDevicePixels" Value="True" />
  </Style>
  <Style TargetType="grid:ScrollPositionIndicator" BasedOn="{StaticResource ScrollPositionIndicatorStyle}" />
</ResourceDictionary>